<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="./css/theme.css" />
  <link rel="stylesheet" href="./css/comm.css" />
  <link rel="stylesheet" href="./css/us-bf-2025.css" />
</head>

<body>
  <div class="bf-banner-box">
    <picture>
      <source srcset="./images76/a4.png" media="(max-width: 991px)" />
      <img class="img-bg" src="./images76/a3.png" />
    </picture>
    <picture>
      <source srcset="./images76/a5.png" media="(max-width: 991px)" />
      <img class="img" src="./images76/a6.png" />
    </picture>
    <div class="bf-banner-cont">
      <div class="container">
        <div class="bf-banner-txt">
          <div class="bf-banner-img">
            <img class="img-icon img-s" src="./images76/2.png" />
            <img class="img-icon img-t" src="./images76/1.png" />
          </div>
          <div class="bf-banner-p">
            First in line, first to shine â€” enjoy up to
            <strong>40% OFF</strong> now.
          </div>
        </div>
      </div>
    </div>
    <div class="star-sky"></div>
  </div>
  <script>
    function initStarSky(options = {}) {
      const STAR_COUNT = options.starCount || 280
      const SHOOT_INTERVAL_MIN = options.shootIntervalMin || 1000
      const SHOOT_INTERVAL_MAX = options.shootIntervalMax || 4000

      const sky = document.querySelector('.star-sky')
      if (!sky) return console.warn('âŒ æœªæ‰¾åˆ° .star-sky å…ƒç´ ')

      let wrap = sky.querySelector('.star-wrap')
      if (!wrap) {
        wrap = document.createElement('div')
        wrap.className = 'star-wrap'
        sky.appendChild(wrap)
      }

      // ğŸŒŸ åˆ›å»ºæ˜Ÿæ˜Ÿ
      for (let i = 0; i < STAR_COUNT; i++) {
        const star = document.createElement('div')
        star.classList.add('star')
        if (i % 8 === 0) star.classList.add('star--red')
        else if (i % 10 === 6) star.classList.add('star--blue')
        const inner = document.createElement('div')
        star.appendChild(inner)
        const size = (Math.random() * 2 + 7).toFixed(2) + 'px'
        star.style.width = size
        star.style.height = size
        star.style.top = (Math.random() * 100).toFixed(2) + '%'
        star.style.left = (Math.random() * 100).toFixed(2) + '%'
        star.style.opacity = (Math.random() * 0.5 + 0.5).toFixed(2)
        star.style.animationDelay = (Math.random() * 100).toFixed(2) + 's'
        wrap.appendChild(star)
      }

      // â˜„ï¸ åˆ›å»ºæµæ˜Ÿ
      function createShootStar() {
        const shootStar = document.createElement('div')
        shootStar.classList.add('shoot-star')
        shootStar.style.top = (Math.random() * 20).toFixed(2) + '%'
        shootStar.style.left = (Math.random() * 100).toFixed(2) + '%'
        sky.appendChild(shootStar)
        shootStar.addEventListener('animationend', () => shootStar.remove())
      }

      // â˜„ï¸ éšæœºé—´éš”å¾ªç¯ç”Ÿæˆæµæ˜Ÿ
      let shootingTimer = null

      function startRandomShooting() {
        if (document.hidden) return // é¡µé¢ä¸å¯è§æ—¶æš‚åœ
        const delay =
          Math.random() * (SHOOT_INTERVAL_MAX - SHOOT_INTERVAL_MIN) +
          SHOOT_INTERVAL_MIN
        shootingTimer = setTimeout(() => {
          createShootStar()
          startRandomShooting() // å¾ªç¯
        }, delay)
      }

      // é¡µé¢å¯è§çŠ¶æ€å˜åŒ–æ—¶æ§åˆ¶æµæ˜Ÿç”Ÿæˆ
      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) {
          // é¡µé¢åˆ‡å›å‰å°ï¼Œç»§ç»­ç”Ÿæˆæµæ˜Ÿ
          startRandomShooting()
        } else {
          // é¡µé¢éšè—æ—¶åœæ­¢
          if (shootingTimer) clearTimeout(shootingTimer)
        }
      })

      // å¯åŠ¨å¾ªç¯
      startRandomShooting()
    }

    // è°ƒç”¨
    initStarSky({
      starCount: 280,
      shootIntervalMin: 1000,
      shootIntervalMax: 4000,
    })
  </script>
  <div class="summer-join">
    <img src="./images76/bg.png" alt="" class="img-bg">
    <div class="container">
      <h3 class="summer-join-title">Event Schedule</h3>
      <div class="summer-join-list">
        <div class="summer-join-item">
          <div class="summer-join-time">11/12â€“11/19</div>
          <div class="summer-join-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="42" height="33" viewBox="0 0 42 33" fill="none">
              <path
                d="M41.6667 10.75V0H0V10.75C2.20833 11.5417 3.79167 13.6667 3.79167 16.1458C3.79167 18.625 2.20833 20.7708 0 21.5417V32.2917H41.6667V21.5417C39.4583 20.75 37.875 18.625 37.875 16.1458C37.875 13.6667 39.4583 11.5208 41.6667 10.75ZM25.375 21.875C24.5208 22.6667 23.3542 23.1458 21.8958 23.2917V25.5H19.7083V23.2292C18.3542 23 17.25 22.4167 16.375 21.5C15.5 20.5833 15.0208 19.4167 14.9167 18.0208H17.3958C17.4375 18.6042 17.625 19.125 17.9375 19.5833C18.2708 20.0417 18.6875 20.4167 19.2292 20.6875C19.7708 20.9583 20.3542 21.1042 20.9792 21.1042C21.9167 21.1042 22.6667 20.8958 23.2292 20.5C23.7917 20.1042 24.0833 19.5625 24.0833 18.875C24.0833 17.7917 23.3958 17.0625 22.0417 16.6458L19.3542 15.875C18.1667 15.5417 17.2292 15.0417 16.5417 14.3958C15.8542 13.75 15.5208 12.7917 15.5208 11.5833C15.5208 10.5208 15.8958 9.625 16.6667 8.875C17.4375 8.125 18.4375 7.6875 19.7083 7.5V5.45833H21.8958V7.47917C23.2083 7.64584 24.2917 8.125 25.1042 8.89584C25.9167 9.66667 26.375 10.6667 26.4792 11.8958H24C23.875 11.2292 23.5417 10.6667 23 10.25C22.4375 9.83334 21.7292 9.60417 20.875 9.60417C20.0208 9.60417 19.3333 9.77083 18.8542 10.125C18.375 10.4792 18.125 10.9375 18.125 11.5417C18.125 12.0417 18.2917 12.4583 18.625 12.7708C18.9583 13.0833 19.4375 13.3125 20.0417 13.5L22.7708 14.2708C24 14.625 24.9792 15.125 25.6667 15.8125C26.3542 16.5 26.7083 17.5 26.7083 18.8125C26.7083 20.0417 26.2708 21.0625 25.4167 21.875H25.375Z"
                fill="url(#paint0_linear_1_1828)" />
              <defs>
                <linearGradient id="paint0_linear_1_1828" x1="20.8333" y1="32.2917" x2="20.8333" y2="0"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#828B94" />
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="summer-join-sub">Up to 40% OFF</div>
        </div>
        <div class="summer-join-item">
          <div class="summer-join-time">11/20â€“12/1</div>
          <div class="summer-join-icon">
            <svg width="39" height="35" viewBox="0 0 39 35" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0 0V7.07625C0 8.245 0.95625 9.20125 2.125 9.20125H36.125C37.2938 9.20125 38.25 8.245 38.25 7.07625V0H0Z"
                fill="url(#paint0_linear_1_1839)" />
              <path
                d="M36.125 11.1136H2.125C0.95625 11.1136 0 10.1574 0 8.98865V34.9774H38.25V8.98865C38.25 10.1574 37.2938 11.1136 36.125 11.1136ZM20.5912 31.3861H17.5738V28.4324H20.5912V31.3861ZM24.3738 20.8249C24.14 21.3774 23.8425 21.8449 23.4813 22.1849C23.12 22.5461 22.6738 22.9286 22.1425 23.3324C21.4625 23.8211 20.9737 24.2886 20.6762 24.6924C20.3575 25.1174 20.23 25.6486 20.2725 26.3074H17.85C17.85 26.1799 17.8288 25.9886 17.8288 25.7549C17.8288 25.1599 17.935 24.6499 18.1262 24.2036C18.3175 23.7574 18.5725 23.3961 18.8487 23.0986C19.1462 22.8011 19.5287 22.4611 19.9962 22.0574C20.6762 21.5049 21.165 20.9949 21.4837 20.5699C21.8025 20.1236 21.9725 19.5499 21.9725 18.8486C21.9725 18.0836 21.6963 17.4461 21.165 16.9574C20.6338 16.4686 19.9537 16.2349 19.125 16.2349C18.1688 16.2349 17.4038 16.5324 16.8513 17.1274C16.2988 17.7224 16.065 18.5511 16.1288 19.6136H13.4938C13.4938 18.4236 13.7063 17.4036 14.1738 16.5536C14.6413 15.7036 15.3 15.0449 16.1712 14.5986C17.0425 14.1524 18.02 13.9186 19.1463 13.9186C20.2725 13.9186 21.2288 14.1311 22.0788 14.5349C22.9288 14.9386 23.5875 15.5124 24.055 16.2561C24.5225 16.9999 24.7562 17.8286 24.7562 18.8061C24.7562 19.6136 24.6287 20.2936 24.395 20.8461L24.3738 20.8249Z"
                fill="url(#paint1_linear_1_1839)" />
              <defs>
                <linearGradient id="paint0_linear_1_1839" x1="19.125" y1="9.20125" x2="19.125" y2="0"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#828B94" />
                </linearGradient>
                <linearGradient id="paint1_linear_1_1839" x1="-6.375" y1="34.9774" x2="-4.25" y2="8.98865"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#828B94" />
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="summer-join-sub">Exclusive Plush Blind Box</div>
        </div>
        <div class="summer-join-item">
          <div class="summer-join-time">12/1â€“12/7</div>
          <div class="summer-join-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="38" height="39" viewBox="0 0 38 39" fill="none">
              <path
                d="M2.23125 20.9808V38.427H17V23.8283C17 22.2558 15.725 20.9808 14.1525 20.9808H2.2525H2.23125ZM20.145 38.427H34.9138V20.9808H23.0137C21.4412 20.9808 20.1662 22.2558 20.1662 23.8283V38.427H20.145ZM35.6575 9.84577H28.815C29.7287 8.40077 30.1112 6.53077 29.5587 4.61827C28.9637 2.45077 27.1788 0.729521 24.99 0.198271C22.4613 -0.417979 20.06 0.495771 18.5725 2.19577C17.2125 0.644521 15.1087 -0.269229 12.8137 0.0707712C10.0937 0.453271 7.84125 2.66327 7.41625 5.38327C7.16125 7.04077 7.5225 8.59202 8.33 9.84577H1.4875C0.65875 9.84577 0 10.5045 0 11.3333V17.8358H13.8762C15.5975 17.8358 16.9787 16.4333 16.9787 14.7333V9.86702H20.145V14.7333C20.145 16.4545 21.5475 17.8358 23.2475 17.8358H37.1237V11.3333C37.1237 10.5045 36.465 9.84577 35.6363 9.84577H35.6575ZM17 9.65452H13.8338C12.495 9.65452 11.22 8.91077 10.7313 7.65702C9.69 4.91577 12.2612 2.34452 15.0025 3.38577C16.2562 3.85327 17 5.14952 17 6.48827V9.65452ZM23.3963 9.65452H20.145V6.57327C20.145 5.06452 21.1013 3.61952 22.5888 3.25827C24.735 2.72702 26.6475 4.34202 26.6475 6.40327C26.6475 8.18827 25.1813 9.65452 23.3963 9.65452Z"
                fill="url(#paint0_linear_1_1851)" />
              <defs>
                <linearGradient id="paint0_linear_1_1851" x1="18.5725" y1="38.427" x2="18.5725" y2="0.00702117"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#828B94" />
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="summer-join-sub">Free Gifts</div>
        </div>
      </div>
    </div>
  </div>
  <script>
    function trackIconDistanceOnResize() {
      const updateDistance = () => {
        const container = document.querySelector('.summer-join')
        if (!container) return

        const icons = container.querySelectorAll('.summer-join-icon')
        if (icons.length < 2) return

        const rect1 = icons[0].getBoundingClientRect()
        const rect2 = icons[1].getBoundingClientRect()
        container
          .querySelector('.summer-join-list')
          .style.setProperty(
            '--w-num',
            `${Math.abs(rect2.left - rect1.left - rect1.width / 2)}`
          )
      }

      window.addEventListener('resize', updateDistance)
      updateDistance()
    }
    trackIconDistanceOnResize()

    function startSummerJoinAutoPlay(interval = 3000, stepTime = 30) {
      const items = Array.from(
        document.querySelectorAll('.summer-join .summer-join-item')
      )

      let currentIndex = 0
      let progress = 0
      let progressTimer = null

      function resetAll() {
        items.forEach((item) => {
          item.classList.remove('active')
          item.style.setProperty('--w-b', '0')
        })
      }

      function setProgress(index, value) {
        const clamped = Math.min(100, Math.max(0, value))
        items[index].style.setProperty('--w-b', `${clamped / 100}`)
      }

      function animateProgress(index) {
        clearInterval(progressTimer)
        progress = 0
        setProgress(index, 0)

        progressTimer = setInterval(() => {
          progress += (stepTime / interval) * 100
          setProgress(index, progress)

          if (progress >= 100) {
            clearInterval(progressTimer)
            currentIndex = (index + 1) % items.length
            activateIndex(currentIndex) // è‡ªåŠ¨è½®æ’­ä¸‹ä¸€é¡¹
          }
        }, stepTime)
      }

      function activateIndex(index) {
        resetAll()

        // è®¾ç½®å½“å‰æ¿€æ´»é¡¹
        if (items[index]) items[index].classList.add('active')

        animateProgress(index) // æ’­æ”¾å½“å‰é¡¹è¿›åº¦æ¡åŠ¨ç”»
      }

      // ç‚¹å‡»äº‹ä»¶åˆ‡æ¢
      items.forEach((item, index) => {
        item.addEventListener('click', () => {
          clearInterval(progressTimer) // æ¸…é™¤æ—§åŠ¨ç”»
          currentIndex = index
          activateIndex(index) // åˆ‡æ¢åˆ°ç‚¹å‡»é¡¹å¹¶é‡æ–°åŠ¨ç”»
        })
      })

      // å¯åŠ¨
      activateIndex(currentIndex)
    }
    startSummerJoinAutoPlay()

  </script>
</body>
<script>
    ; (function fairyDustCursor() {
      var l = ['#D61C59', '#E7D84B', '#1B8798']
      var n = window.innerWidth
      var e = window.innerHeight
      var d = { x: n / 2, y: n / 2 }
      var k = []
      function f() {
        c()
        g()
      }
      function c() {
        document.addEventListener('mousemove', h)
        window.addEventListener('resize', i)
      }
      function i(o) {
        n = window.innerWidth
        e = window.innerHeight
      }
      function h(o) {
        d.x = o.clientX
        d.y = o.clientY
        a(d.x, d.y, l[Math.floor(Math.random() * l.length)])
      }
      function a(q, r, o) {
        var p = new j()
        p.init(q, r, o)
        k.push(p)
      }
      function m() {
        for (var o = 0; o < k.length; o++) {
          k[o].update()
        }
        for (var o = k.length - 1; o >= 0; o--) {
          if (k[o].lifeSpan < 0) {
            k[o].die()
            k.splice(o, 1)
          }
        }
      }
      function g() {
        requestAnimationFrame(g)
        m()
      }
      function j() {
        this.character = '*'
        this.lifeSpan = 120
        this.initialStyles = {
          position: 'fixed',
          display: 'inline-block',
          top: '0px',
          left: '0px',
          pointerEvents: 'none',
          'touch-action': 'none',
          'z-index': '10000000',
          fontSize: '25px',
          'will-change': 'transform',
        }
        this.init = function (p, q, o) {
          this.velocity = {
            x: (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),
            y: 1,
          }
          this.position = { x: p + 10, y: q + 10 }
          this.initialStyles.color = o
          this.element = document.createElement('span')
          this.element.innerHTML = this.character
          b(this.element, this.initialStyles)
          this.update()
          let $pEl = document
            .querySelector('.js-cursor-container')
          if (!$pEl) {
            $pEl = document.createElement('div')
            $pEl.className = 'js-cursor-container'
            document.body.appendChild($pEl)
          }
          $pEl.appendChild(this.element)
        }
        this.update = function () {
          this.position.x += this.velocity.x
          this.position.y += this.velocity.y
          this.lifeSpan--
          this.element.style.transform =
            'translate3d(' +
            this.position.x +
            'px,' +
            this.position.y +
            'px, 0) scale(' +
            this.lifeSpan / 120 +
            ')'
        }
        this.die = function () {
          this.element.parentNode.removeChild(this.element)
        }
      }
      function b(q, p) {
        for (var o in p) {
          q.style[o] = p[o]
        }
      }
      if (!('ontouchstart' in window || navigator.msMaxTouchPoints)) {
        // f()
      }
    })()
</script>
<script>
  class CustomSwiperNew extends HTMLElement {
    constructor() {
      super();
      this.videos = [];
    }

    connectedCallback() {
      this.initSwiper();
      this.initVideoEvents();
    }

    initSwiper() {
      const swiperContainer = this.querySelector('.swiper-container');
      if (!swiperContainer) return console.error('Swiper container not found');

      const disableOn = this.getAttribute('disable-on');
      const isMobile = /Mobi|Android/i.test(navigator.userAgent);
      if ((disableOn === 'mobile' && isMobile) || (disableOn === 'desktop' && !isMobile)) {
        console.log(`Swiper disabled on ${disableOn}`);
        return;
      }

      const slidesPerView = parseFloat(this.getAttribute('slides-per-view')) || 1.3;
      const spaceBetween = parseFloat(this.getAttribute('space-between')) || 10;
      const loop = this.getAttribute('loop') !== 'false';
      const centeredSlides = this.getAttribute('centered-slides') !== 'false';
      const navigationEnabled = this.getAttribute('navigation') === 'true';

      const prevButton = navigationEnabled ? this.querySelector('.swiper-prev') : null;
      const nextButton = navigationEnabled ? this.querySelector('.swiper-next') : null;

      let breakpoints = {};
      try { breakpoints = JSON.parse(this.getAttribute('breakpoints') || '{}'); }
      catch (e) { console.error('Invalid breakpoints JSON'); }

      this.swiper = new Swiper(swiperContainer, {
        slidesPerView,
        spaceBetween,
        loop,
        centeredSlides,
        navigation: navigationEnabled ? { prevEl: prevButton, nextEl: nextButton } : false,
        pagination: {
          el: this.querySelector('.swiper-pagination'),
          type: 'progressbar',
        },
        breakpoints,
        preventClicks: false,
        preventClicksPropagation: false,
      });
    }

    initVideoEvents() {
      const videoWrappers = this.querySelectorAll('.swiper-slide');

      videoWrappers.forEach(wrapper => {
        const video = wrapper.querySelector('video');
        const playBtn = wrapper.querySelector('.play-btn');
        if (!video || !playBtn) return;

        wrapper.style.position = 'relative';

        // åŠ¨æ€åˆ›å»ºè¿›åº¦æ¡
        let progressContainer = document.createElement('div');
        progressContainer.className = 'video-progress';
        progressContainer.style.cssText = `
        position: absolute;
        bottom: 8px;
        left: 10px;
        right: 10px;
        height: 4px;
        background: rgba(255,255,255,0.3);
        border-radius:4px;
        overflow: hidden;
        cursor: pointer;
      `;
        let progressBar = document.createElement('div');
        progressBar.className = 'video-progress-bar';
        progressBar.style.cssText = `width:0%; height:100%; background:#fff; transition: width 0.1s linear;`;
        progressContainer.appendChild(progressBar);
        wrapper.querySelector('.video-slider').appendChild(progressContainer);

        // è§†é¢‘çŠ¶æ€
        let isPlaying = false;

        // å°†è§†é¢‘åŠ å…¥ç®¡ç†æ•°ç»„
        this.videos.push({ video, playBtn, progressBar, isPlaying });

        // ç‚¹å‡»æ’­æ”¾æŒ‰é’®
        playBtn.addEventListener('click', e => {
          e.stopPropagation();
          this.pauseOtherVideos(video);
          video.play();
          playBtn.style.display = 'none';
          isPlaying = true;
        });

        // ç‚¹å‡»è§†é¢‘åˆ‡æ¢æ’­æ”¾/æš‚åœ
        video.addEventListener('click', () => {
          if (isPlaying) {
            video.pause();
            isPlaying = false;
            playBtn.style.display = '';
          } else {
            this.pauseOtherVideos(video);
            video.play();
            isPlaying = true;
            playBtn.style.display = 'none';
          }
        });

        // è§†é¢‘äº‹ä»¶
        video.addEventListener('play', () => { isPlaying = true; playBtn.style.display = 'none'; });
        video.addEventListener('pause', () => { if (!video.ended) { isPlaying = false; playBtn.style.display = ''; } });
        video.addEventListener('ended', () => { isPlaying = false; playBtn.style.display = ''; progressBar.style.width = '0%'; });

        // æ›´æ–°æ—¶é—´è¿›åº¦æ¡
        video.addEventListener('timeupdate', () => {
          if (!video.duration) return;
          const percent = (video.currentTime / video.duration) * 100;
          progressBar.style.width = percent + '%';
        });

        // ç‚¹å‡»è¿›åº¦æ¡è·³è½¬
        progressContainer.addEventListener('click', e => {
          const rect = progressContainer.getBoundingClientRect();
          const clickX = e.clientX - rect.left;
          video.currentTime = (clickX / rect.width) * video.duration;
        });
      });
    }

    pauseOtherVideos(currentVideo) {
      this.videos.forEach(item => {
        const { video, playBtn, progressBar } = item;
        if (video !== currentVideo && !video.paused) {
          video.pause();
          item.isPlaying = false;
          if (playBtn) playBtn.style.display = '';
          if (progressBar) progressBar.style.width = '0%';
        }
      });
    }
  }

  window.customElements.define('custom-swiper-new', CustomSwiperNew);


  class CustomSwiperNew extends HTMLElement {
    constructor() {
      super();
    }

    connectedCallback() {
      this.initSwiper();
      this.initVideoEvents();
    }

    initSwiper() {
      const swiperContainer = this.querySelector('.swiper-container');
      if (!swiperContainer) {
        console.error('Swiper container not found');
        return;
      }

      // è®¾å¤‡åˆ¤æ–­
      const disableOn = this.getAttribute('disable-on');
      const isMobile = /Mobi|Android/i.test(navigator.userAgent);
      if ((disableOn === 'mobile' && isMobile) || (disableOn === 'desktop' && !isMobile)) {
        console.log(`Swiper disabled on ${disableOn}`);
        return;
      }

      // å‚æ•°
      const slidesPerView = parseFloat(this.getAttribute('slides-per-view')) || 1.3;
      const spaceBetween = parseFloat(this.getAttribute('space-between')) || 10;
      const loop = this.getAttribute('loop') !== 'false';
      const centeredSlides = this.getAttribute('centered-slides') !== 'false';
      const paginationEnabled = this.getAttribute('pagination') === 'true';
      const navigationEnabled = this.getAttribute('navigation') === 'true';

      let breakpoints = {};
      try {
        breakpoints = JSON.parse(this.getAttribute('breakpoints') || '{}');
      } catch (error) {
        console.error('Invalid breakpoints format. Expected JSON.');
      }

      // æ§ä»¶
      const prevButton = navigationEnabled ? this.querySelector('.swiper-prev') : null;
      const nextButton = navigationEnabled ? this.querySelector('.swiper-next') : null;
      const paginationEl = paginationEnabled
        ? { el: this.querySelector('.swiper-pagination'), clickable: true }
        : false;

      // åˆ›å»º Swiper
      this.swiper = new Swiper(swiperContainer, {
        slidesPerView,
        spaceBetween,
        loop,
        centeredSlides,
        navigation: navigationEnabled ? { prevEl: prevButton, nextEl: nextButton } : false,
        pagination: {
          el: this.querySelector('.swiper-pagination'),
          type: 'progressbar',
        },
        breakpoints,
        preventClicks: false,
        preventClicksPropagation: false,
      });
    }

    initVideoEvents() {
      const videos = this.querySelectorAll('video');
      const playBtns = this.querySelectorAll('.play-btn');

      if (!videos.length) return;

      videos.forEach((video, index) => {
        const playBtn = playBtns[index];
        if (!playBtn) return;

        // ç‚¹å‡»æ’­æ”¾æŒ‰é’®
        playBtn.addEventListener('click', e => {
          e.stopPropagation();
          this.pauseOtherVideos(video);
          video.play();
          playBtn.style.display = 'none';
        });

        // ç‚¹å‡»è§†é¢‘æš‚åœ
        video.addEventListener('click', e => {
          e.stopPropagation();
          if (video.paused) {
            this.pauseOtherVideos(video);
            video.play();
            playBtn.style.display = 'none';
          } else {
            video.pause();
            playBtn.style.display = '';
          }
        });

        // æ’­æ”¾ç»“æŸåæ¢å¤æŒ‰é’®
        video.addEventListener('ended', () => {
          playBtn.style.display = '';
        });
      });
    }

    pauseOtherVideos(currentVideo) {
      const allVideos = this.querySelectorAll('video');
      const allPlayBtns = this.querySelectorAll('.play-btn');
      allVideos.forEach((v, i) => {
        if (v !== currentVideo && !v.paused) {
          v.pause();
          if (allPlayBtns[i]) allPlayBtns[i].style.display = '';
        }
      });
    }
  }

  window.customElements.define('custom-swiper-new', CustomSwiperNew);

</script>

</html>