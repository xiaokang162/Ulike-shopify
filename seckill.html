<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/theme.css" />
  <link rel="stylesheet" href="./css/comm.css" />
  <link rel="stylesheet" href="./css/seckill.css" />
  <script src="./js/jquery.min.js"></script>
</head>
<body>
  <div class="seckill-tab to-top">
    <div class="container">
      <div class="seckill-tab-br">
        <div class="seckill-tab-cont">
          <div class="seckill-tab-list">
            <div class="seckill-tab-item" data-time="12:00" data-end="16:00" data-tag="1">
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="27" height="34" viewBox="0 0 27 34" fill="none">
                  <path d="M22.2089 1.27844L7.41131 1.2785L0.980066 18.6124L10.0155 18.6127L7.41122 33.2447L26.2733 11.2966L15.7057 11.2966L22.2089 1.27844Z" stroke-linejoin="round"/>
                </svg>
                16:00 Flash Sale
              </div>
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="34" viewBox="0 0 32 34" fill="none">
                  <g clip-path="url(#clip0_5852_11676)">
                    <path d="M2.18199 11.3364C3.43324 9.23373 5.16428 7.44624 7.2199 6.12914C7.14464 5.90335 7.02704 5.69638 6.84829 5.51763L6.07214 4.74148C5.46534 4.13468 4.47281 4.13468 3.8613 4.74148L0.662625 7.94486C0.0558178 8.55166 0.0558178 9.54419 0.662625 10.1557L1.43877 10.9319C1.65045 11.1435 1.90917 11.2752 2.18199 11.3411V11.3364Z" fill="#999999"/>
                    <path d="M30.6694 7.94486L27.466 4.74148C26.8592 4.13468 25.8667 4.13468 25.2552 4.74148L24.479 5.51763C24.3003 5.69638 24.1827 5.90806 24.1074 6.12914C26.163 7.45095 27.8941 9.23373 29.1453 11.3364C29.4182 11.2705 29.6769 11.1388 29.8885 10.9271L30.6647 10.151C31.2715 9.54419 31.2715 8.55166 30.6647 7.94015L30.6694 7.94486Z" fill="#999999"/>
                    <path d="M18.7494 4.99557V3.72551H19.5585C19.9066 3.72551 20.1888 3.44328 20.1888 3.09519V0.630327C20.1888 0.282236 19.9066 0 19.5585 0H11.7688C11.4207 0 11.1384 0.282236 11.1384 0.630327V3.09989C11.1384 3.44798 11.4207 3.73022 11.7688 3.73022H12.5778V5.00028C5.96411 6.41146 1.00146 12.2914 1.00146 19.3331C1.00146 27.4333 7.56815 34 15.6636 34C23.7591 34 30.3305 27.4333 30.3305 19.3331C30.3305 12.2914 25.3678 6.41146 18.7494 4.99557ZM15.6636 30.4344C9.5438 30.4344 4.56234 25.453 4.56234 19.3331C4.56234 13.2133 9.5438 8.23188 15.6636 8.23188C21.7834 8.23188 26.7649 13.2133 26.7649 19.3331C26.7649 25.453 21.7834 30.4344 15.6636 30.4344Z" fill="#999999"/>
                    <path d="M21.0355 11.4446H20.7297C20.4804 11.4446 20.2922 11.5904 20.09 11.8115L15.546 16.7318C15.2873 16.7459 15.0285 16.7835 14.7698 16.8776C13.4057 17.3762 12.7048 18.8815 13.1987 20.2409C13.6926 21.6004 15.2026 22.2965 16.5667 21.7979C17.8979 21.3087 18.5941 19.8599 18.1614 18.5287L21.1531 12.5547C21.2424 12.376 21.4118 12.0373 21.2189 11.7268L21.0355 11.454V11.4446Z" fill="#999999"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11676">
                      <rect width="30.9189" height="34" fill="white" transform="translate(0.206543)"/>
                    </clipPath>
                  </defs>
                </svg>
                Begin at 16:00
              </div>
            </div>
            <div class="seckill-tab-item" data-time="14:00" data-end="19:00" data-tag="2">
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="27" height="34" viewBox="0 0 27 34" fill="none">
                  <path d="M22.2089 1.27844L7.41131 1.2785L0.980066 18.6124L10.0155 18.6127L7.41122 33.2447L26.2733 11.2966L15.7057 11.2966L22.2089 1.27844Z" stroke-linejoin="round"/>
                </svg>
                18:00 Flash Sale
              </div>
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="34" viewBox="0 0 32 34" fill="none">
                  <g clip-path="url(#clip0_5852_11676)">
                    <path d="M2.18199 11.3364C3.43324 9.23373 5.16428 7.44624 7.2199 6.12914C7.14464 5.90335 7.02704 5.69638 6.84829 5.51763L6.07214 4.74148C5.46534 4.13468 4.47281 4.13468 3.8613 4.74148L0.662625 7.94486C0.0558178 8.55166 0.0558178 9.54419 0.662625 10.1557L1.43877 10.9319C1.65045 11.1435 1.90917 11.2752 2.18199 11.3411V11.3364Z" fill="#999999"/>
                    <path d="M30.6694 7.94486L27.466 4.74148C26.8592 4.13468 25.8667 4.13468 25.2552 4.74148L24.479 5.51763C24.3003 5.69638 24.1827 5.90806 24.1074 6.12914C26.163 7.45095 27.8941 9.23373 29.1453 11.3364C29.4182 11.2705 29.6769 11.1388 29.8885 10.9271L30.6647 10.151C31.2715 9.54419 31.2715 8.55166 30.6647 7.94015L30.6694 7.94486Z" fill="#999999"/>
                    <path d="M18.7494 4.99557V3.72551H19.5585C19.9066 3.72551 20.1888 3.44328 20.1888 3.09519V0.630327C20.1888 0.282236 19.9066 0 19.5585 0H11.7688C11.4207 0 11.1384 0.282236 11.1384 0.630327V3.09989C11.1384 3.44798 11.4207 3.73022 11.7688 3.73022H12.5778V5.00028C5.96411 6.41146 1.00146 12.2914 1.00146 19.3331C1.00146 27.4333 7.56815 34 15.6636 34C23.7591 34 30.3305 27.4333 30.3305 19.3331C30.3305 12.2914 25.3678 6.41146 18.7494 4.99557ZM15.6636 30.4344C9.5438 30.4344 4.56234 25.453 4.56234 19.3331C4.56234 13.2133 9.5438 8.23188 15.6636 8.23188C21.7834 8.23188 26.7649 13.2133 26.7649 19.3331C26.7649 25.453 21.7834 30.4344 15.6636 30.4344Z" fill="#999999"/>
                    <path d="M21.0355 11.4446H20.7297C20.4804 11.4446 20.2922 11.5904 20.09 11.8115L15.546 16.7318C15.2873 16.7459 15.0285 16.7835 14.7698 16.8776C13.4057 17.3762 12.7048 18.8815 13.1987 20.2409C13.6926 21.6004 15.2026 22.2965 16.5667 21.7979C17.8979 21.3087 18.5941 19.8599 18.1614 18.5287L21.1531 12.5547C21.2424 12.376 21.4118 12.0373 21.2189 11.7268L21.0355 11.454V11.4446Z" fill="#999999"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11676">
                      <rect width="30.9189" height="34" fill="white" transform="translate(0.206543)"/>
                    </clipPath>
                  </defs>
                </svg>
                Begin at 18:00
              </div>
            </div>
            <div class="seckill-tab-item" data-time="20:00" data-end="23:00" data-tag="3">
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="27" height="34" viewBox="0 0 27 34" fill="none">
                  <path d="M22.2089 1.27844L7.41131 1.2785L0.980066 18.6124L10.0155 18.6127L7.41122 33.2447L26.2733 11.2966L15.7057 11.2966L22.2089 1.27844Z" stroke-linejoin="round"/>
                </svg>
                20:00 Flash Sale
              </div>
              <div class="seckill-tab-txt">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="34" viewBox="0 0 32 34" fill="none">
                  <g clip-path="url(#clip0_5852_11676)">
                    <path d="M2.18199 11.3364C3.43324 9.23373 5.16428 7.44624 7.2199 6.12914C7.14464 5.90335 7.02704 5.69638 6.84829 5.51763L6.07214 4.74148C5.46534 4.13468 4.47281 4.13468 3.8613 4.74148L0.662625 7.94486C0.0558178 8.55166 0.0558178 9.54419 0.662625 10.1557L1.43877 10.9319C1.65045 11.1435 1.90917 11.2752 2.18199 11.3411V11.3364Z" fill="#999999"/>
                    <path d="M30.6694 7.94486L27.466 4.74148C26.8592 4.13468 25.8667 4.13468 25.2552 4.74148L24.479 5.51763C24.3003 5.69638 24.1827 5.90806 24.1074 6.12914C26.163 7.45095 27.8941 9.23373 29.1453 11.3364C29.4182 11.2705 29.6769 11.1388 29.8885 10.9271L30.6647 10.151C31.2715 9.54419 31.2715 8.55166 30.6647 7.94015L30.6694 7.94486Z" fill="#999999"/>
                    <path d="M18.7494 4.99557V3.72551H19.5585C19.9066 3.72551 20.1888 3.44328 20.1888 3.09519V0.630327C20.1888 0.282236 19.9066 0 19.5585 0H11.7688C11.4207 0 11.1384 0.282236 11.1384 0.630327V3.09989C11.1384 3.44798 11.4207 3.73022 11.7688 3.73022H12.5778V5.00028C5.96411 6.41146 1.00146 12.2914 1.00146 19.3331C1.00146 27.4333 7.56815 34 15.6636 34C23.7591 34 30.3305 27.4333 30.3305 19.3331C30.3305 12.2914 25.3678 6.41146 18.7494 4.99557ZM15.6636 30.4344C9.5438 30.4344 4.56234 25.453 4.56234 19.3331C4.56234 13.2133 9.5438 8.23188 15.6636 8.23188C21.7834 8.23188 26.7649 13.2133 26.7649 19.3331C26.7649 25.453 21.7834 30.4344 15.6636 30.4344Z" fill="#999999"/>
                    <path d="M21.0355 11.4446H20.7297C20.4804 11.4446 20.2922 11.5904 20.09 11.8115L15.546 16.7318C15.2873 16.7459 15.0285 16.7835 14.7698 16.8776C13.4057 17.3762 12.7048 18.8815 13.1987 20.2409C13.6926 21.6004 15.2026 22.2965 16.5667 21.7979C17.8979 21.3087 18.5941 19.8599 18.1614 18.5287L21.1531 12.5547C21.2424 12.376 21.4118 12.0373 21.2189 11.7268L21.0355 11.454V11.4446Z" fill="#999999"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11676">
                      <rect width="30.9189" height="34" fill="white" transform="translate(0.206543)"/>
                    </clipPath>
                  </defs>
                </svg>
                Begin at 20:00
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    window.addEventListener('load',function(){
      function compareTimes1(targetTime) {
        if(!targetTime) return false
        // 获取当前时间
        let currentTime = new Date();
        
        // 将目标时间解析为小时和分钟
        let targetParts = targetTime.split(":");
        let targetHour = parseInt(targetParts[0]);
        let targetMinute = parseInt(targetParts[1]);
        
        // 计算目标时间的总分钟数
        let targetTotalMinutes = targetHour * 60 + targetMinute;
        
        // 计算当前时间的总分钟数
        let currentTotalMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();
        
        // 比较时间并返回结果
        if (currentTotalMinutes < targetTotalMinutes) {
            return false;
        } else{
            return true;
        } 
      }
      function getNewYorkTime() {
        if (typeof Intl !== 'undefined' && typeof Intl.DateTimeFormat === 'function') {
          try {
            // 尝试使用 timeZone 选项获取纽约时间
            const nyTime = new Date().toLocaleString('en-US', { timeZone: 'America/New_York' });
            return new Date(nyTime);
          } catch (error) {
            console.error('Error getting New York time:', error);
          }
        }

        // 如果环境不支持，返回当前本地时间
        return new Date();
      }

      function compareTimes(targetTime) {
        if (!targetTime) return false;
        // 获取纽约时间
        let nyTime = getNewYorkTime();
        // 将目标时间解析为小时和分钟
        let targetParts = targetTime.split(":");
        let targetHour = parseInt(targetParts[0]);
        let targetMinute = parseInt(targetParts[1]);

        // 计算目标时间的总分钟数
        let targetTotalMinutes = targetHour * 60 + targetMinute;

        // 计算纽约当前时间的总分钟数
        let nyCurrentTotalMinutes = nyTime.getHours() * 60 + nyTime.getMinutes();

        // 比较时间并返回结果
        return nyCurrentTotalMinutes >= targetTotalMinutes;
      }

      let seckillTabItems = document.querySelectorAll('.seckill-tab .seckill-tab-item')
      let seckillList = document.querySelector('.seckill-tab .seckill-tab-list')
      seckillList.style = ''
      seckillTabItems.forEach(function(item) {
        let time = item.getAttribute('data-time')
        let endTime = item.getAttribute('data-end')
        let tag = item.getAttribute('data-tag')
        if(compareTimes(time) && !compareTimes(endTime)){
          seckillTabItems.forEach(function(sitem) {
            sitem.classList.remove('active');
          });
          item.classList.add('active')
          seckillList.style = `--left-num:${item.offsetLeft}px;--width-num:${item.offsetWidth}px;`
          document.querySelector('.seckill-tab .seckill-tab-cont').scrollLeft = item.offsetLeft
          $('.seckill-product-box .seckill-item').hide()
          $('.seckill-product-box .seckill-item[data-tag="'+tag+'"]').show()
        }
        item.addEventListener('click',function(){
          seckillTabItems.forEach(function(sitem) {
            sitem.classList.remove('active');
          });
          this.classList.add('active')
          seckillList.style = `--left-num:${this.offsetLeft}px;--width-num:${this.offsetWidth}px;`
          document.querySelector('.seckill-tab .seckill-tab-cont').scrollLeft = this.offsetLeft
          $('.seckill-product-box .seckill-item').hide()
          $('.seckill-product-box .seckill-item[data-tag="'+tag+'"]').show()
        })
      });


    })

  </script>
  <div class="seckill-product-box">
    <div class="container">
      <div class="seckill-list">
        <div class="seckill-item to-top" data-tag="1" data-id="3" data-star="2023-12-1 19:00" data-end="2023-12-21 23:50" data-cycle="true" data-url="/products/sapphire-air-3-ipl-hair-removal">
          <div class="seckill-img">
            <img class="img pc-box" src="./images9/c3.jpg" alt="">
            <img class="img mb-box" src="./images9/c3.jpg" alt="">
            <div class="seckill-img-text">
              <div>
                <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-star">
                  <img src="./images10/star.svg" alt="" class="star-img">
                  (1,088)
                </div>
              </div>
              <div class="seckill-limit">
                <span>Limit: 5</span>
                <span>Residue: <span>10</span></span>
              </div>
            </div>
          </div>
          <div class="seckill-item-text">
            <div class="mb-box">
              <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-limit">
                  <span>Limit: 5</span>
                  <span>Residue: <span>0</span></span>
                </div>
            </div>
            <div class="seckill-price">
              <span class="n-price">$0</span>
              <span class="d-price">$299.00</span>
            </div>
            <!-- <div class="seckill-btn">
              <span>Buy Now</span>
              <span>Remind Me</span>
            </div> -->
            <div class="seckill-btn btn-diy">
              <div class="btn-txt span" text="Buy Now">
                <span>Buy Now</span>
              </div>
              <div class="btn-txt span" text="Remind Me">
                <span>Remind Me</span>
              </div>
            </div>
            <div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                  <g clip-path="url(#clip0_5852_11455)">
                    <path d="M1.2205 7.00188C1.99333 5.70318 3.06251 4.59914 4.33215 3.78564C4.28567 3.64618 4.21303 3.51834 4.10263 3.40794L3.62324 2.92856C3.24845 2.55376 2.63542 2.55376 2.25772 2.92856L0.282071 4.90711C-0.0927216 5.2819 -0.0927216 5.89494 0.282071 6.27263L0.761457 6.75202C0.892198 6.88276 1.05199 6.96411 1.2205 7.00479V7.00188Z" fill="#DBA25B"/>
                    <path d="M18.8147 4.90711L16.8362 2.92856C16.4614 2.55376 15.8483 2.55376 15.4706 2.92856L14.9912 3.40794C14.8808 3.51834 14.8082 3.64909 14.7617 3.78564C16.0314 4.60205 17.1005 5.70318 17.8734 7.00188C18.0419 6.96121 18.2017 6.87986 18.3324 6.74911L18.8118 6.26973C19.1866 5.89494 19.1866 5.2819 18.8118 4.90421L18.8147 4.90711Z" fill="#DBA25B"/>
                    <path d="M11.4532 3.0855V2.30105H11.9529C12.1679 2.30105 12.3422 2.12673 12.3422 1.91173V0.389319C12.3422 0.174322 12.1679 0 11.9529 0H7.1416C6.9266 0 6.75228 0.174322 6.75228 0.389319V1.91464C6.75228 2.12963 6.9266 2.30396 7.1416 2.30396H7.64132V3.08841C3.55637 3.96002 0.491211 7.59173 0.491211 11.9411C0.491211 16.9441 4.54711 21 9.54724 21C14.5474 21 18.6062 16.9441 18.6062 11.9411C18.6062 7.59173 15.541 3.96002 11.4532 3.0855Z" fill="#DBA25B"/>
                    <path d="M12.8648 7.06885H12.676C12.522 7.06885 12.4058 7.15891 12.2808 7.29547L9.47424 10.3345C9.31444 10.3432 9.15465 10.3664 8.99485 10.4245C8.15229 10.7325 7.7194 11.6622 8.02446 12.5019C8.32952 13.3415 9.26215 13.7715 10.1047 13.4636C10.9269 13.1614 11.3569 12.2666 11.0896 11.4443L12.9374 7.75451C12.9926 7.64411 13.0972 7.43492 12.9781 7.24317L12.8648 7.07466V7.06885Z" fill="white"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11455">
                      <rect width="19.097" height="21" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Start at 14: 00pm
              </div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="22" viewBox="0 0 18 22" fill="none">
                  <path d="M14.4983 0.789475L5.35862 0.789508L1.38638 11.4957L6.96709 11.4959L5.35857 20.5334L17.0086 6.97717L10.4817 6.97717L14.4983 0.789475Z" fill="#DBA25B" stroke="#DBA25B" stroke-linejoin="round"/>
                </svg>
                End in 
                <span>
                  00: 00: 00
                </span>
              </div>
              <div class="seckill-time">
                End of The Flash Sale
              </div>
            </div>
          </div>
        </div>
        <div class="seckill-item to-top" data-tag="1" style="transition-delay: 0.1s" data-id="4" data-star="2023-11-21 10:00" data-end="2023-11-30 12:00" data-cycle="true">
          <div class="seckill-img">
            <img class="img pc-box" src="./images9/c3.jpg" alt="">
            <img class="img mb-box" src="./images9/c3.jpg" alt="">
            <div class="seckill-img-text">
              <div>
                <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-star">
                  <img src="./images10/star.svg" alt="" class="star-img">
                  (1,088)
                </div>
              </div>
              <div class="seckill-limit">
                <span>Limit: 5</span>
                <span>Residue: <span>3</span></span>
              </div>
            </div>
          </div>
          <div class="seckill-item-text">
            <div class="mb-box">
              <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-limit">
                  <span>Limit: 5</span>
                  <span>Residue: <span>3</span></span>
                </div>
            </div>
            <div class="seckill-price">
              <span class="n-price">$0</span>
              <span class="d-price">$299.00</span>
            </div>
            <div class="seckill-btn btn-diy">
              <div class="btn-txt span" text="Buy Now">
                <span>Buy Now</span>
              </div>
              <div class="btn-txt span" text="Remind Me">
                <span>Remind Me</span>
              </div>
            </div>
            <div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                  <g clip-path="url(#clip0_5852_11455)">
                    <path d="M1.2205 7.00188C1.99333 5.70318 3.06251 4.59914 4.33215 3.78564C4.28567 3.64618 4.21303 3.51834 4.10263 3.40794L3.62324 2.92856C3.24845 2.55376 2.63542 2.55376 2.25772 2.92856L0.282071 4.90711C-0.0927216 5.2819 -0.0927216 5.89494 0.282071 6.27263L0.761457 6.75202C0.892198 6.88276 1.05199 6.96411 1.2205 7.00479V7.00188Z" fill="#DBA25B"/>
                    <path d="M18.8147 4.90711L16.8362 2.92856C16.4614 2.55376 15.8483 2.55376 15.4706 2.92856L14.9912 3.40794C14.8808 3.51834 14.8082 3.64909 14.7617 3.78564C16.0314 4.60205 17.1005 5.70318 17.8734 7.00188C18.0419 6.96121 18.2017 6.87986 18.3324 6.74911L18.8118 6.26973C19.1866 5.89494 19.1866 5.2819 18.8118 4.90421L18.8147 4.90711Z" fill="#DBA25B"/>
                    <path d="M11.4532 3.0855V2.30105H11.9529C12.1679 2.30105 12.3422 2.12673 12.3422 1.91173V0.389319C12.3422 0.174322 12.1679 0 11.9529 0H7.1416C6.9266 0 6.75228 0.174322 6.75228 0.389319V1.91464C6.75228 2.12963 6.9266 2.30396 7.1416 2.30396H7.64132V3.08841C3.55637 3.96002 0.491211 7.59173 0.491211 11.9411C0.491211 16.9441 4.54711 21 9.54724 21C14.5474 21 18.6062 16.9441 18.6062 11.9411C18.6062 7.59173 15.541 3.96002 11.4532 3.0855Z" fill="#DBA25B"/>
                    <path d="M12.8648 7.06885H12.676C12.522 7.06885 12.4058 7.15891 12.2808 7.29547L9.47424 10.3345C9.31444 10.3432 9.15465 10.3664 8.99485 10.4245C8.15229 10.7325 7.7194 11.6622 8.02446 12.5019C8.32952 13.3415 9.26215 13.7715 10.1047 13.4636C10.9269 13.1614 11.3569 12.2666 11.0896 11.4443L12.9374 7.75451C12.9926 7.64411 13.0972 7.43492 12.9781 7.24317L12.8648 7.07466V7.06885Z" fill="white"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11455">
                      <rect width="19.097" height="21" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Start at 14: 00pm
              </div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="22" viewBox="0 0 18 22" fill="none">
                  <path d="M14.4983 0.789475L5.35862 0.789508L1.38638 11.4957L6.96709 11.4959L5.35857 20.5334L17.0086 6.97717L10.4817 6.97717L14.4983 0.789475Z" fill="#DBA25B" stroke="#DBA25B" stroke-linejoin="round"/>
                </svg>
                End in 
                <span>
                  00: 00: 00
                </span>
              </div>
              <div class="seckill-time">
                End of The Flash Sale
              </div>
            </div>
          </div>
        </div>
        <div class="seckill-item to-top" data-tag="2" style="transition-delay: 0.2s" data-id="3" data-star="2023-12-01 14:00" data-end="2023-12-28 19:05" data-cycle="true">
          <div class="seckill-img">
            <img class="img pc-box" src="./images9/c3.jpg" alt="">
            <img class="img mb-box" src="./images9/c3.jpg" alt="">
            <div class="seckill-img-text">
              <div>
                <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-star">
                  <img src="./images10/star.svg" alt="" class="star-img">
                  (1,088)
                </div>
              </div>
              <div class="seckill-limit">
                <span>Limit: 5</span>
                <span>Residue: <span>3</span></span>
              </div>
            </div>
          </div>
          <div class="seckill-item-text">
            <div class="mb-box">
              <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-limit">
                  <span>Limit: 5</span>
                  <span>Residue: <span>3</span></span>
                </div>
            </div>
            <div class="seckill-price">
              <span class="n-price">$0</span>
              <span class="d-price">$299.00</span>
            </div>
            <div class="seckill-btn">
              <span>Buy Now</span>
              <span>Remind Me</span>
            </div>
            <div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                  <g clip-path="url(#clip0_5852_11455)">
                    <path d="M1.2205 7.00188C1.99333 5.70318 3.06251 4.59914 4.33215 3.78564C4.28567 3.64618 4.21303 3.51834 4.10263 3.40794L3.62324 2.92856C3.24845 2.55376 2.63542 2.55376 2.25772 2.92856L0.282071 4.90711C-0.0927216 5.2819 -0.0927216 5.89494 0.282071 6.27263L0.761457 6.75202C0.892198 6.88276 1.05199 6.96411 1.2205 7.00479V7.00188Z" fill="#DBA25B"/>
                    <path d="M18.8147 4.90711L16.8362 2.92856C16.4614 2.55376 15.8483 2.55376 15.4706 2.92856L14.9912 3.40794C14.8808 3.51834 14.8082 3.64909 14.7617 3.78564C16.0314 4.60205 17.1005 5.70318 17.8734 7.00188C18.0419 6.96121 18.2017 6.87986 18.3324 6.74911L18.8118 6.26973C19.1866 5.89494 19.1866 5.2819 18.8118 4.90421L18.8147 4.90711Z" fill="#DBA25B"/>
                    <path d="M11.4532 3.0855V2.30105H11.9529C12.1679 2.30105 12.3422 2.12673 12.3422 1.91173V0.389319C12.3422 0.174322 12.1679 0 11.9529 0H7.1416C6.9266 0 6.75228 0.174322 6.75228 0.389319V1.91464C6.75228 2.12963 6.9266 2.30396 7.1416 2.30396H7.64132V3.08841C3.55637 3.96002 0.491211 7.59173 0.491211 11.9411C0.491211 16.9441 4.54711 21 9.54724 21C14.5474 21 18.6062 16.9441 18.6062 11.9411C18.6062 7.59173 15.541 3.96002 11.4532 3.0855Z" fill="#DBA25B"/>
                    <path d="M12.8648 7.06885H12.676C12.522 7.06885 12.4058 7.15891 12.2808 7.29547L9.47424 10.3345C9.31444 10.3432 9.15465 10.3664 8.99485 10.4245C8.15229 10.7325 7.7194 11.6622 8.02446 12.5019C8.32952 13.3415 9.26215 13.7715 10.1047 13.4636C10.9269 13.1614 11.3569 12.2666 11.0896 11.4443L12.9374 7.75451C12.9926 7.64411 13.0972 7.43492 12.9781 7.24317L12.8648 7.07466V7.06885Z" fill="white"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11455">
                      <rect width="19.097" height="21" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Start at 14: 00pm
              </div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="22" viewBox="0 0 18 22" fill="none">
                  <path d="M14.4983 0.789475L5.35862 0.789508L1.38638 11.4957L6.96709 11.4959L5.35857 20.5334L17.0086 6.97717L10.4817 6.97717L14.4983 0.789475Z" fill="#DBA25B" stroke="#DBA25B" stroke-linejoin="round"/>
                </svg>
                End in 
                <span>
                  00: 00: 00
                </span>
              </div>
              <div class="seckill-time">
                End of The Flash Sale
              </div>
            </div>
          </div>
        </div>
        <div class="seckill-item to-top" data-tag="3" style="transition-delay: 0.3s" data-id="4" data-star="2023-11-22 14:00" data-end="2023-11-22 18:00" data-cycle="false">
          <div class="seckill-img">
            <img class="img pc-box" src="./images9/c3.jpg" alt="">
            <img class="img mb-box" src="./images9/c3.jpg" alt="">
            <div class="seckill-img-text">
              <div>
                <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-star">
                  <img src="./images10/star.svg" alt="" class="star-img">
                  (1,088)
                </div>
              </div>
              <div class="seckill-limit">
                <span>Limit: 5</span>
                <span>Residue: <span>3</span></span>
              </div>
            </div>
          </div>
          <div class="seckill-item-text">
            <div class="mb-box">
              <div class="seckill-title">Ulike Air3</div>
                <div class="seckill-limit">
                  <span>Limit: 5</span>
                  <span>Residue: <span>3</span></span>
                </div>
            </div>
            <div class="seckill-price">
              <span class="n-price">$0</span>
              <span class="d-price">$299.00</span>
            </div>
            <div class="seckill-btn">
              <span>Buy Now</span>
              <span>Remind Me</span>
            </div>
            <div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                  <g clip-path="url(#clip0_5852_11455)">
                    <path d="M1.2205 7.00188C1.99333 5.70318 3.06251 4.59914 4.33215 3.78564C4.28567 3.64618 4.21303 3.51834 4.10263 3.40794L3.62324 2.92856C3.24845 2.55376 2.63542 2.55376 2.25772 2.92856L0.282071 4.90711C-0.0927216 5.2819 -0.0927216 5.89494 0.282071 6.27263L0.761457 6.75202C0.892198 6.88276 1.05199 6.96411 1.2205 7.00479V7.00188Z" fill="#DBA25B"/>
                    <path d="M18.8147 4.90711L16.8362 2.92856C16.4614 2.55376 15.8483 2.55376 15.4706 2.92856L14.9912 3.40794C14.8808 3.51834 14.8082 3.64909 14.7617 3.78564C16.0314 4.60205 17.1005 5.70318 17.8734 7.00188C18.0419 6.96121 18.2017 6.87986 18.3324 6.74911L18.8118 6.26973C19.1866 5.89494 19.1866 5.2819 18.8118 4.90421L18.8147 4.90711Z" fill="#DBA25B"/>
                    <path d="M11.4532 3.0855V2.30105H11.9529C12.1679 2.30105 12.3422 2.12673 12.3422 1.91173V0.389319C12.3422 0.174322 12.1679 0 11.9529 0H7.1416C6.9266 0 6.75228 0.174322 6.75228 0.389319V1.91464C6.75228 2.12963 6.9266 2.30396 7.1416 2.30396H7.64132V3.08841C3.55637 3.96002 0.491211 7.59173 0.491211 11.9411C0.491211 16.9441 4.54711 21 9.54724 21C14.5474 21 18.6062 16.9441 18.6062 11.9411C18.6062 7.59173 15.541 3.96002 11.4532 3.0855Z" fill="#DBA25B"/>
                    <path d="M12.8648 7.06885H12.676C12.522 7.06885 12.4058 7.15891 12.2808 7.29547L9.47424 10.3345C9.31444 10.3432 9.15465 10.3664 8.99485 10.4245C8.15229 10.7325 7.7194 11.6622 8.02446 12.5019C8.32952 13.3415 9.26215 13.7715 10.1047 13.4636C10.9269 13.1614 11.3569 12.2666 11.0896 11.4443L12.9374 7.75451C12.9926 7.64411 13.0972 7.43492 12.9781 7.24317L12.8648 7.07466V7.06885Z" fill="white"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_5852_11455">
                      <rect width="19.097" height="21" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Start at 14: 00pm
              </div>
              <div class="seckill-time">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="22" viewBox="0 0 18 22" fill="none">
                  <path d="M14.4983 0.789475L5.35862 0.789508L1.38638 11.4957L6.96709 11.4959L5.35857 20.5334L17.0086 6.97717L10.4817 6.97717L14.4983 0.789475Z" fill="#DBA25B" stroke="#DBA25B" stroke-linejoin="round"/>
                </svg>
                End in 
                <span>
                  00: 00: 00
                </span>
              </div>
              <div class="seckill-time">
                End of The Flash Sale
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="seckill-popup warn-box">
    <div class="seckill-popup-cont">
      <img class="seckill-popup-bg pc-box" src="./images11/b1.png" alt="">
      <img class="seckill-popup-bg mb-box" src="./images11/b2.jpg" alt="">
      <div class="seckill-popup-close">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M0.565016 15.4064C-0.172644 16.0826 -0.188012 16.7742 0.518913 17.4811C1.22584 18.188 1.91738 18.1726 2.59357 17.435L9 11.1208L15.4064 17.435C16.0826 18.1726 16.7742 18.188 17.4811 17.4811C18.188 16.7742 18.1726 16.0826 17.435 15.4064L11.1208 9L17.435 2.59357C18.1726 1.91738 18.188 1.22584 17.4811 0.518904C16.7742 -0.188015 16.0826 -0.172638 15.4064 0.565018L9 6.87924L2.59357 0.565018C1.91738 -0.172638 1.22584 -0.188015 0.518913 0.518904C-0.188012 1.22584 -0.172644 1.91738 0.565016 2.59357L6.87924 9L0.565016 15.4064Z" fill="black"/>
        </svg>
      </div>
      <div class="seckill-popup-text">
        <div class="seckill-popup-edit">
          <div class="seckill-popup-title">Reminder Sign Up</div>
          <div class="seckill-popup-sub p-m20">After subscribing, we will remind you 20 minutes before the start of each event countdown. You can choose to disable the countdown reminders or unsubscribe at any time.</div>
          <input type="text" placeholder="Enter your email" class="seckill-popup-input email-input p-m60">
          <input type="text" placeholder="Enter your phone number (optional)" class="seckill-popup-input phone-input p-m10">
          <div class="seckill-popup-p seckill-popup-label p-m20">
            <label for="">
              <input type="checkbox">
              <span class="checkbox-span">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                  <rect width="12" height="12" fill="#8E8E8E"/>
                  <path d="M3 5.8L5.1 7.9L9 4" stroke="white"/>
                </svg>
              </span>
            </label>Receive notice via text message
          </div>
          <div class="seckill-popup-p p-m5">By checking this box, I consent to receive marketing text messages through an automatic telephone dialing system at the number provided. Consent is not a condition to purchase. Check our privacy policy</div>
          <div class="seckill-popup-btn p-m20 warn-btn">Sign Up</div>
          <div class="seckill-popup-msg p-m20">msg</div>
        </div>
        <div class="seckill-popup-suc">
          <div class="seckill-popup-title">You're Signed Up!</div>
          <div class="seckill-popup-sub p-m20">We have sent you a test email. Please whitelist our email address upon receiving it to ensure accurate receipt of notifications.</div>
        </div>
      </div>
    </div>
  </div>
  <div class="seckill-popup underway-box">
    <div class="seckill-popup-cont">
      <img class="seckill-popup-bg pc-box" src="./images11/b1.png" alt="">
      <img class="seckill-popup-bg mb-box" src="./images11/b2.jpg" alt="">
      <div class="seckill-popup-close">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M0.565016 15.4064C-0.172644 16.0826 -0.188012 16.7742 0.518913 17.4811C1.22584 18.188 1.91738 18.1726 2.59357 17.435L9 11.1208L15.4064 17.435C16.0826 18.1726 16.7742 18.188 17.4811 17.4811C18.188 16.7742 18.1726 16.0826 17.435 15.4064L11.1208 9L17.435 2.59357C18.1726 1.91738 18.188 1.22584 17.4811 0.518904C16.7742 -0.188015 16.0826 -0.172638 15.4064 0.565018L9 6.87924L2.59357 0.565018C1.91738 -0.172638 1.22584 -0.188015 0.518913 0.518904C-0.188012 1.22584 -0.172644 1.91738 0.565016 2.59357L6.87924 9L0.565016 15.4064Z" fill="black"/>
        </svg>
      </div>
      <div>
        <div class="seckill-popup-edit">
          <div class="seckill-popup-text">
            <div class="seckill-popup-title">Holiday Limited-time Offer</div>
            <div class="seckill-popup-sub p-m20">Limited quantity, first come, first served.</div>
            <input type="text" placeholder="Enter your email" class="seckill-popup-input p-m60">
            <div class="seckill-popup-btn p-m20 underway-submit">Submit</div>
            <div class="seckill-popup-msg p-m20">msg</div>
            <div class="seckill-popup-p p-m20">By submitting your email, you agree to the terms of this event and to receive promotional emails. You can unsubscribe at any time.</div>
          </div>
          <div class="seckill-popup-text" style="display: none;">
            <div class="seckill-popup-title">Congrats! You Won!</div>
            <div class="seckill-popup-sub p-m40">The discount code:</div>
            <div class="seckill-popup-code p-m10"></div>
            <div class="seckill-popup-sub p-m10">Discount validity time: <span class="star-t"></span> to <span class="end-t"></span></div>
            <div class="seckill-popup-p p-m40 text-center">We will also send your discount code to you via email. Please use it before it expires.</div>
            <div class="seckill-popup-btn p-m20 go-shop-now">Shop Now</div>
          </div>
        </div>
        <div class="seckill-popup-suc">
          <div class="seckill-popup-title">You're too slow!</div>
          <div class="seckill-popup-sub p-m20">You still have a chance! Sign up to our reminders and be quicker next time.</div>
        </div>
      </div>
    </div>
  </div>
  <script>
    window.addEventListener('load',function(){
      let seckillTimer = null
      function compareTime1(targetTime) {
        var currentTime = new Date();

        // 判断输入的时间格式
        var isDateTimeFormat = targetTime.includes('-'); // 如果包含 '-'，则是日期时间格式

        // 解析目标时间
        var targetDateTime;
        if (isDateTimeFormat) {
            targetDateTime = new Date(targetTime);
        } else {
            // 将目标时间解析为小时和分钟
            var targetParts = targetTime.split(":");
            var targetHour = parseInt(targetParts[0]);
            var targetMinute = parseInt(targetParts[1]);

            // 设置目标时间的日期为当前日期
            targetDateTime = new Date();
            targetDateTime.setHours(targetHour);
            targetDateTime.setMinutes(targetMinute);
            targetDateTime.setSeconds(0);
        }

        // 比较时间
        if (currentTime < targetDateTime) {
            return false;
        } else{
            return true;
        }
      }
      function compareTime(targetTime) {
        // 获取当前时间在纽约时区的日期对象
        var currentTimeNY = new Date().toLocaleString("en-US", {timeZone: "America/New_York"});
        
        // 解析目标时间
        var isDateTimeFormat = targetTime.includes('-');
        var targetDateTime;
        
        if (isDateTimeFormat) {
            // 如果输入格式包含'-'，则解析日期和时间
            targetDateTime = new Date(targetTime).toLocaleString("en-US", {timeZone: "America/New_York"});
        } else {
            // 如果输入格式是HH:mm，则解析小时和分钟
            var targetParts = targetTime.split(":");
            var targetHour = parseInt(targetParts[0]);
            var targetMinute = parseInt(targetParts[1]);

            // 在纽约时区创建目标时间的日期对象
            targetDateTime = new Date(currentTimeNY);
            targetDateTime.setHours(targetHour);
            targetDateTime.setMinutes(targetMinute);
            targetDateTime.setSeconds(0);
        }

        // 比较时间
        if (new Date(currentTimeNY) < new Date(targetDateTime)) {
            return false;
        } else {
            return true;
        }
      }






      function initSeckillItem(){
        $('.seckill-product-box .seckill-item').removeClass('active end')
        clearInterval(seckillTimer)
        $('.seckill-product-box .seckill-item').each(function(){
          let star = $(this).attr('data-star')
          let end = $(this).attr('data-end')
          let cycle = $(this).attr('data-cycle')
          let num = $(this).find('.seckill-limit span span').text()
          if(compareTime(end)){
            $(this).addClass('end')
          }else{
            if(cycle=='true'){
              star= star.split(' ').length==2?star.split(' ')[1]:star
              end= end.split(' ').length==2?end.split(' ')[1]:end
            }
            if(compareTime(star)&&!compareTime(end)&&num>0){
              $(this).addClass('active')
            }else{
              if(cycle=='false'){
                $(this).addClass('end')
              }
            }
          }
        })

        seckillTimer = setInterval(() => {
          seckillCountdown()
        }, 1000);
      }

      function formatTimeValue(value) {
        return value < 10 ? "0" + value : value;
      }

      function calculateTimeRemaining1(targetDateTimeString) {
        const now = new Date();
        let target;

        // 尝试解析日期时间字符串
        try {
            target = new Date(targetDateTimeString);
            // 检查是否解析成功，如果不成功，则抛出错误，然后捕获到下面的处理
            if (isNaN(target.getTime())) {
                throw new Error('Invalid date');
            }
        } catch (error) {
            // 解析失败，可能是因为只提供了时间部分而没有日期部分
            // 在当前日期上添加目标时间
            const targetTimeParts = targetDateTimeString.split(':');
            target = new Date();
            target.setHours(parseInt(targetTimeParts[0], 10));
            target.setMinutes(parseInt(targetTimeParts[1], 10));
            target.setSeconds(0);
            target.setMilliseconds(0);
        }

        let timeRemaining = Math.max(0, target - now); // 确保时间不为负数

        if(timeRemaining==0){
          initSeckillItem()
        }

        const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

        return { days, hours, minutes, seconds };
    }

    function calculateTimeRemaining(targetDateTimeString) {
      // 获取当前纽约时间
      const now = new Date();
      const nyTimeZone = { timeZone: 'America/New_York' };
      const nowNY = now.toLocaleString('en-US', nyTimeZone);

      let target;

      // 尝试解析日期时间字符串
      try {
          // 解析时将目标时间也转换为纽约时区
          target = new Date(targetDateTimeString + 'Z').toLocaleString('en-US', nyTimeZone);
          // 检查是否解析成功，如果不成功，则抛出错误，然后捕获到下面的处理
          if (isNaN(new Date(target).getTime())) {
              throw new Error('Invalid date');
          }
      } catch (error) {
          // 解析失败，可能是因为只提供了时间部分而没有日期部分
          // 在当前日期上添加目标时间
          const targetTimeParts = targetDateTimeString.split(':');
          target = new Date();
          target.setHours(parseInt(targetTimeParts[0], 10));
          target.setMinutes(parseInt(targetTimeParts[1], 10));
          target.setSeconds(0);
          target.setMilliseconds(0);
      }

      let timeRemaining = Math.max(0, new Date(target) - new Date(nowNY)); // 确保时间不为负数

      if (timeRemaining === 0) {
          initSeckillItem();
      }

      const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
      const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

      return { days, hours, minutes, seconds };
    }





      function seckillCountdown(){
        $('.seckill-product-box .seckill-item.active').each(function(){
          let end = $(this).attr('data-end')
          let cycle = $(this).attr('data-cycle')
          if(cycle=='true'){
            end= end.split(' ').length==2?end.split(' ')[1]:end
          }

          let time = calculateTimeRemaining(end)
          console.log(time);
          $(this).find('.seckill-time:nth-child(2) span').html(`${formatTimeValue(time.hours)}:${formatTimeValue(time.minutes)}:${formatTimeValue(time.seconds)}`)
        })
      }
      
      $('.seckill-item .seckill-btn').click(function(){
        let $p=$(this).closest('.seckill-item')
        let id = $p.attr('data-id')
        let url= $p.attr('data-url')
        if($p.hasClass('end')) return
        if($p.hasClass('active')){
          $('.underway-box').attr('data-id',id).attr('data-url',url).fadeIn()
        }else{
          $('.warn-box').fadeIn()
        }
      })

      $('.seckill-popup .go-shop-now').click(function(){
        let url = $(this).closest('.seckill-popup').attr('data-url')
        $(this).closest('.seckill-popup').fadeOut()
        location.href=url
      })

      $('.seckill-popup .seckill-popup-close,.seckill-popup .underway-close').click(function(){
        $(this).closest('.seckill-popup').fadeOut()
        $(this).closest('.seckill-popup').find('.seckill-popup-input').attr('style','').val('')
        $(this).closest('.seckill-popup').find('.seckill-popup-msg').html('').hide()
        $(this).closest('.underway-box').find('.seckill-popup-text:last-child').hide()
        $(this).closest('.underway-box').find('.seckill-popup-text:first-child').show()
        $(this).closest('.seckill-popup').find('.seckill-popup-edit').show()
        $(this).closest('.seckill-popup').find('.seckill-popup-suc').hide()
      })
      function validateEmail(email) {
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      $('.seckill-popup .underway-submit').click(function(){
        let emailInput =$(this).siblings('.seckill-popup-input')
        
        if(validateEmail(emailInput.val())){
            $(this).addClass('dis-box')
            makeRequest('https://api.myulike.com/api/flashadd','POST',{
              site:'us',
              email:emailInput.val(),
              id:$(this).closest('.underway-box').attr('data-id')
            })
            .then(res => {
              let {code ,data,message} = res 
              if(code==200){
                console.log(data);
                $(this).closest('.underway-box').find('.seckill-popup-text:last-child .seckill-popup-code').html(data.cou_code)
                $(this).closest('.underway-box').find('.seckill-popup-text:last-child .star-t').html(data.begin_time)
                $(this).closest('.underway-box').find('.seckill-popup-text:last-child .end-t').html(data.end_time)
                $(this).closest('.underway-box').find('.seckill-popup-text:first-child').hide()
                $(this).closest('.underway-box').find('.seckill-popup-text:last-child').show()
              }else if(code==202){
                $(this).closest('.seckill-popup').find('.seckill-popup-edit').hide()
                $(this).closest('.seckill-popup').find('.seckill-popup-suc').show()
              }else{
                $(this).siblings('.seckill-popup-msg').html(message).show()
              }
              $(this).removeClass('dis-box')
            })
            .catch(error => {
              console.error('请求失败:', error);
              $(this).removeClass('dis-box')
            });
          }else{
            emailInput.css('border-color','red')
          }
      })

      $('.seckill-popup .warn-btn').click(function(){
        let input =$(this).siblings('.seckill-popup-p').find('input')
        let emailInput = $(this).siblings('.email-input')
        let phoneInput = $(this).siblings('.phone-input')
        if(!validateEmail(emailInput.val())) return emailInput.css('border-color','red')
        // if(!phoneInput.val()) return phoneInput.css('border-color','red')
        if(phoneInput.val()&&!input.prop("checked")){
          $(this).siblings('.seckill-popup-label').css('color','red')
          $(this).siblings('.seckill-popup-p').find('.checkbox-span').css('border-color','red')
          return
        }
        makeRequest('https://api.myulike.com/api/flash-add-subscription','POST',{
          title:'CURRENT_TIMESTAMP',
          site:'us',
          email:emailInput.val(),
          phone:phoneInput.val(),
          email_subscription:2,
          phone_subscription:phoneInput.val()==''?1:2
        })
        .then(res => {
          let {code ,data,message} = res 
          if(code==200){
            // console.log(data);
            // $('.seckill-popup').fadeOut()
            $(this).closest('.seckill-popup').find('.seckill-popup-edit').hide()
            $(this).closest('.seckill-popup').find('.seckill-popup-suc').show()
          }else{
            $(this).siblings('.seckill-popup-msg').html(message).show()
          }
        })
        .catch(error => {
          console.error('请求失败:', error);
        });
      })

      $('.seckill-popup .seckill-popup-input').click(function(){
        $(this).attr('style','')
      })

      $('.seckill-popup .seckill-popup-input').change(function(){
        $(this).attr('style','')
      })

      $('.seckill-popup .seckill-popup-p input').change(function(){
        $(this).parents('.seckill-popup-p').attr('style','')
        $(this).siblings('.checkbox-span').attr('style','')
      })

    function makeRequest(url, method = 'GET', data = null) {
      return new Promise((resolve, reject) => {
        const options = {
          method,
          headers: {
            'Content-Type': 'application/json'
          },
          mode: 'cors',
          cache: 'no-cache'
        };

        if (data) {
          options.body = JSON.stringify(data);
        }

        fetch(url, options)
          .then(response => {
            if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
          })
          .then(data => resolve(data))
          .catch(error => reject(error));
      });
    }
    makeRequest('https://api.myulike.com/api/flashnumber?site=us')
      .then(res => {
        let {code ,data} = res 
        if(code==200){
          $('.seckill-product-box .seckill-item').each(function(){
            let id = $(this).attr('data-id')
            data.forEach(item=>{
              if(item.id==id){
                // $(this).find('.seckill-limit span span').html(item.number)
              }
            })
          })
          initSeckillItem()
        }
      })
      .catch(error => {
        console.error('GET请求失败:', error);
      });
    })
  </script>
  <div class="second-box to-top">
    <img src="./images11/a3.png" class="second-bg pc-box" alt="">
    <img src="./images11/a4.png" class="second-bg mb-box" alt="">
    <div class="container">
      <div class="second-cont">
        <div class="second-title to-top" style="transition-delay: 0.1s">Announcement of winners</div>
        <div class="second-list-box to-top" style="transition-delay: 0.2s">
          <div class="second-list">
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
            <div class="second-item">i8exxx9ie@gmail.com</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    function makeRequest(url, method = 'GET', data = null) {
      return new Promise((resolve, reject) => {
        const options = {
          method,
          headers: {
            'Content-Type': 'application/json'
          },
          mode: 'cors',
          cache: 'no-cache'
        };

        if (data) {
          options.body = JSON.stringify(data);
        }

        fetch(url, options)
          .then(response => {
            if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
          })
          .then(data => resolve(data))
          .catch(error => reject(error));
      });
    }
    makeRequest('https://api.myulike.com/api/flashlist?site=us')
    .then(res => {
      let {code ,data} = res 
      if(code==200){
        let html = ''
        data.email.forEach(item=>{
          html += `<div class="second-item">${item}</div>`
        })
        document.querySelector('.second-box .second-list').innerHTML = html
        if(window.innerWidth<740&&data.email.length>5){
          seamlessScroll(16);
        }
      }
    })
    .catch(error => {
      console.error('GET请求失败:', error);
    });

    function seamlessScroll(interval) {
      const container = document.querySelector('.second-box');
      const content = container.querySelector('.second-list');
      let scrollInterval =null
      let scrollHeight = 0;
      content.innerHTML += content.innerHTML;
      function scrollUp() {
        scrollHeight += 0.3;
        if (scrollHeight >= content.scrollHeight / 2) {
          scrollHeight = 0;
        }
        content.style.transform = `translateY(-${scrollHeight}px)`;
      }
  
      function startScrolling() {
        scrollInterval = setInterval(scrollUp, interval);
      }

      content.addEventListener('mouseenter', () => {
        clearInterval(scrollInterval);
      });
  
      content.addEventListener('mouseleave', () => {
        scrollInterval = setInterval(scrollUp, interval);
      });
  
      startScrolling();
    }
    
  </script>
  <div class="rules-box">
    <div class="container">
      <div class="rules-cont">
        <div class="rules-title to-top">Rules</div>
        <div class="rules-text to-top" style="transition-delay: 0.1s">
          1. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.
          <br/>
          <br/>
          2. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.
          <br/>
          <br/>
          3.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.
          <br/>
          <br/>
          4. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.
        </div>
      </div>
    </div>
  </div>
  <div class="product-popup-img-diy">
    <div class="product-popup-img-cont">
      <div class="product-popup-img-close">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M0.565016 15.4064C-0.172644 16.0826 -0.188012 16.7742 0.518913 17.4811C1.22584 18.188 1.91738 18.1726 2.59357 17.435L9 11.1208L15.4064 17.435C16.0826 18.1726 16.7742 18.188 17.4811 17.4811C18.188 16.7742 18.1726 16.0826 17.435 15.4064L11.1208 9L17.435 2.59357C18.1726 1.91738 18.188 1.22584 17.4811 0.518904C16.7742 -0.188015 16.0826 -0.172638 15.4064 0.565018L9 6.87924L2.59357 0.565018C1.91738 -0.172638 1.22584 -0.188015 0.518913 0.518904C-0.188012 1.22584 -0.172644 1.91738 0.565016 2.59357L6.87924 9L0.565016 15.4064Z" fill="white"/>
        </svg>
      </div>
      <img src="./images11/p1.png" class="product-popup-img pc-box" alt="">
      <img src="./images11/pm.jpg" class="product-popup-img mb-box" alt="">
    </div>
  </div>
  <script>
    window.addEventListener('load',function(){
      $('.coupon-img-box-diy .coupon-img-box-btn').click(function(){
        $('.product-popup-img-diy').fadeIn()
      })
      $('.product-popup-img-diy .product-popup-img-close').click(function(){
        $('.product-popup-img-diy').fadeOut()
      })
    })
  </script>
</body>
<!-- <script src="./js/theme.js"></script> -->
<script src="./js/script.js"></script>
</html>