<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/theme.css" />
  <link rel="stylesheet" href="./css/comm.css" />
  <link rel="stylesheet" href="./css/take-quiz.css" />
</head>

<body>
  <div class="take-quiz">
    <div class="take-quiz-img">
      <img class="img" src="./images61/a1.jpg" alt="" />
      <div class="take-quiz-img-text">
        <h3 class="take-quiz-img-title">Get your personalized recommendation from me</h3>
        <img src="./images61/a3.png" alt="" class="take-quiz-tx">
      </div>
    </div>
    <div class="take-quiz-cont">
      <div class="container">
        <div class="take-quiz-faq">
          <div class="take-quiz-top">
            <div class="take-quiz-msg">
              <div class="take-quiz-msg-left">select one</div>
              <div class="take-quiz-msg-right">Question <span class="current-num">1</span> / <span
                  class="total-num">7</span></div>
            </div>
            <div class="take-quiz-step">
              <div class="take-quiz-item-title">What is your age?</div>
              <div class="take-quiz-item-title">What is your gender?</div>
              <div class="take-quiz-item-title">How would you describe your natural skin tone? </div>
              <div class="take-quiz-item-title">What is the natural color of your body hair? </div>
              <div class="take-quiz-item-title">How would you describe the thickness of your body hair? </div>
              <div class="take-quiz-item-title">Are you currently pregnant or breastfeeding? </div>
              <div class="take-quiz-item-title">How sensitive are you to product pricing? </div>
              <div class="take-quiz-item-title">Please provide your email to receive your personalized results. </div>
            </div>
          </div>
          <div class="take-quiz-step">
            <div class="take-quiz-item">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">Under 18</div>
                <div class="take-quiz-faq-item">18-24</div>
                <div class="take-quiz-faq-item">25-34</div>
                <div class="take-quiz-faq-item">35-44</div>
                <div class="take-quiz-faq-item">45-54</div>
                <div class="take-quiz-faq-item">55+</div>
              </div>
            </div>
            <div class="take-quiz-item">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">Female</div>
                <div class="take-quiz-faq-item">Male</div>
                <div class="take-quiz-faq-item">Non-binary</div>
              </div>
            </div>
            <div class="take-quiz-item img-bottom">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Fair
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Light
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Medium
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Tan
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Tan-Deep
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Deep
                </div>
              </div>
            </div>
            <div class="take-quiz-item img-bottom">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Black
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Dark Brown
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Brown
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Dark Blonde
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Red
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Light Blonde
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Gray or White
                </div>
              </div>
            </div>
            <div class="take-quiz-item img-right">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Fine and light
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Medium thickness
                </div>
                <div class="take-quiz-faq-item">
                  <img class="img" src="./images61/a2.png" alt="" />
                  Thick and coarse
                </div>
              </div>
            </div>
            <div class="take-quiz-item">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">Yes</div>
                <div class="take-quiz-faq-item">No</div>
                <div class="take-quiz-faq-item">Prefer not to say</div>
              </div>
            </div>
            <div class="take-quiz-item">
              <div class="take-quiz-faq-list">
                <div class="take-quiz-faq-item">
                  Very price-sensitive <strong>(Looking for affordable options)</strong>
                </div>
                <div class="take-quiz-faq-item">
                  Somewhat price-sensitive <strong>(Willing to pay for quality, but looking for good deals)</strong>
                </div>
                <div class="take-quiz-faq-item">
                  Not price-sensitive <strong>(I prioritize quality and effectiveness over price)</strong>
                </div>
              </div>
            </div>
            <div class="take-quiz-item">
              <input class="take-quiz-email" type="email" placeholder="Enter your email" />
            </div>
          </div>
          <div class="take-quiz-btns">
            <div class="take-quiz-btn take-quiz-prev-btn">BACK</div>
            <div class="take-quiz-btn take-quiz-next-btn">NEXT</div>
            <div class="take-quiz-btn take-quiz-submit-btn">GET MY RESULTS</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="take-quiz-dispatch">
    <div class="container">
      <h3 class="take-quiz-dispatch-h3">Your personalized recommendation</h3>
      <div class="take-quiz-dispatch-cont">
        <div class="take-quiz-dispatch-rw">
          <img src="./images61/a3.png" alt="" class="take-quiz-dispatch-tx">
          <p class="take-quiz-dispatch-rw-p">As recommended by Dr. Davin Lim</p>
        </div>
        <div class="take-quiz-dispatch-list">
          <div class="take-quiz-dispatch-item ulike-a3">
            <div class="take-quiz-dispatch-p1"><strong>Your test result:</strong> Great news! Your skin and hair tone
              are
              a perfect match for Ulike IPL. </div>
            <svg class="take-quiz-dispatch-jt" xmlns="http://www.w3.org/2000/svg" width="41" height="41"
              viewBox="0 0 41 41" fill="none">
              <path
                d="M20.5 40C31.2696 40 40 31.2696 40 20.5C40 9.73045 31.2696 1 20.5 1C9.73045 1 1 9.73045 1 20.5C1 31.2696 9.73045 40 20.5 40Z"
                stroke="#E0004D" />
              <path
                d="M19.763 24.6831L12 16.9191L13.132 15.7871L20.896 23.5511L28.66 15.7871L29.792 16.9191L22.028 24.6831L20.895 25.8151L19.763 24.6831Z"
                fill="#E0004D" />
            </svg>
            <div class="take-quiz-dispatch-p2">
              Recommendation: <strong>Ulike Air 3</strong>
            </div>
            <div class="take-quiz-dispatch-product">
              <div class="take-quiz-dispatch-product-img">
                <img src="./images61/a4.png" alt="" class="img">
                <div class="take-quiz-dispatch-product-tag">
                  <svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" viewBox="0 0 99 99" fill="none">
                    <path
                      d="M98.9991 49.4999L94.4851 52.5869L98.5411 56.2549L93.6511 58.6999L97.1721 62.8889L91.9941 64.6389L94.9091 69.2719L89.5411 70.2949L91.7961 75.2839L86.3381 75.5629L87.8951 80.8129L82.4501 80.3469L83.2831 85.7599L77.9511 84.5599L78.0451 90.0369L72.9251 88.1219L72.2751 93.5609L67.4641 90.9609L66.0781 96.2609L61.6671 93.0279L59.5671 98.0859L55.6401 94.2769L52.8721 98.9999L49.4951 94.6929L46.1181 98.9999L43.3501 94.2769L39.4221 98.0859L37.3221 93.0279L32.9111 96.2609L31.5251 90.9609L26.7131 93.5609L26.0631 88.1219L20.9431 90.0359L21.0371 84.5589L15.7051 85.7589L16.5411 80.3449L11.0961 80.8109L12.6531 75.5609L7.19514 75.2819L9.45014 70.2929L4.08114 69.2709L6.99614 64.6379L1.81814 62.8879L5.33914 58.6989L0.449142 56.2549L4.50814 52.5869L-0.00585938 49.4999L4.50814 46.4129L0.449142 42.7449L5.33914 40.2999L1.81814 36.1109L6.99614 34.3609L4.08614 29.7309L9.45514 28.7089L7.20014 23.7199L12.6581 23.4409L11.1011 18.1909L16.5461 18.6569L15.7131 13.2439L21.0451 14.4439L20.9511 8.96691L26.0711 10.8819L26.7211 5.44291L31.5321 8.04291L32.9181 2.7429L37.3291 5.97591L39.4291 0.917908L43.3561 4.72691L46.1241 0.00390625L49.5011 4.31091L52.8781 0.00390625L55.6461 4.72691L59.5741 0.917908L61.6741 5.97591L66.0851 2.7429L67.4711 8.04291L72.2831 5.44291L72.9331 10.8819L78.0531 8.96791L77.9591 14.4449L83.2911 13.2449L82.4571 18.6579L87.9021 18.1919L86.3451 23.4419L91.8031 23.7209L89.5411 28.7069L94.9111 29.7309L91.9961 34.3639L97.1741 36.1139L93.6531 40.3029L98.5431 42.7479L94.4841 46.4159L98.9991 49.4999Z"
                      fill="#E7004C" />
                    <path
                      d="M49.5 94.693L46.123 99L43.356 94.277L39.428 98.086L37.328 93.028L32.916 96.262L31.53 90.962L26.719 93.562L26.069 88.123L20.948 90.037L21.043 84.56L15.711 85.76L16.544 80.347L11.099 80.813L12.656 75.562L7.198 75.283L9.453 70.294L4.08499 69.272L7 64.639L1.82101 62.889L5.34299 58.7L0.451996 56.256L4.51199 52.589L0 49.5L4.51401 46.413L0.45401 42.745L5.345 40.301L1.823 36.111L7.00201 34.361L4.08801 29.728L9.45599 28.706L7.20099 23.716L12.66 23.438L11.103 18.187L16.548 18.653L15.715 13.239L21.047 14.439L20.953 8.96198L26.072 10.877L26.723 5.43799L31.534 8.03802L32.92 2.73798L37.331 5.97198L39.431 0.914001L43.358 4.72302L46.124 0L49.501 4.30701L52.878 0L55.646 4.72302L59.574 0.914978L61.674 5.97198L66.086 2.73901L67.472 8.039L72.283 5.43903L72.933 10.878L78.054 8.96399L77.959 14.441L83.291 13.241L82.458 18.654L87.903 18.188L86.346 23.439L91.804 23.717L89.549 28.707L94.917 29.728L92 34.362L97.179 36.112L93.657 40.301L98.548 42.746L94.489 46.413L99 49.5L94.486 52.588L98.545 56.255L93.654 58.7L97.176 62.889L92 64.64L94.914 69.273L89.546 70.295L91.801 75.284L86.343 75.563L87.9 80.814L82.455 80.348L83.288 85.762L77.956 84.562L78.05 90.039L72.931 88.125L72.28 93.564L67.469 90.964L66.084 96.264L61.673 93.031L59.573 98.088L55.646 94.279L52.878 99L49.5 94.693Z"
                      fill="url(#paint0_linear_309_2224)" />
                    <defs>
                      <linearGradient id="paint0_linear_309_2224" x1="30.195" y1="30.195" x2="68.805" y2="68.805"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#E0004D" />
                        <stop offset="0.507" stop-color="#FF6186" />
                        <stop offset="1" stop-color="#E0004D" />
                      </linearGradient>
                    </defs>
                  </svg>
                  <div class="take-quiz-dispatch-product-tag-txt">
                    <strong>$110</strong>OFF
                  </div>
                </div>
              </div>
              <div class="take-quiz-dispatch-product-info">
                <h3 class="take-quiz-dispatch-product-h3">Ulike Air 10</h3>
                <p class="take-quiz-dispatch-product-p">96% hair reduction in just 2 weeks</p>
                <div class="take-quiz-dispatch-product-star">
                  <span>4.7/5(1003)</span>
                </div>
                <div class="take-quiz-dispatch-product-btn">
                  Add To Cart - 269.99
                </div>
              </div>
            </div>
            <div class="take-quiz-dispatch-p3">Why Air 10?</div>
            <div class="take-quiz-dispatch-p4">Our top-of-the-line IPL device is the perfect choice for those seeking
              powerful, effective results without the
              premium price tag. Start seeing results by week 2, and after a full treatment cycle, enjoy months of
              smooth
              skin. </div>
            <div class="take-quiz-dispatch-code">
              <div class="take-quiz-dispatch-p5">Shop Air 10 now and save.</div>
              <div class="take-quiz-dispatch-p6">Your exclusive discount code: <strong>UPOWER</strong></div>
            </div>
            <div class="take-quiz-dispatch-p3">Quick Tip:</div>
            <div class="take-quiz-dispatch-p7">
              Begin with a patch test on a small area of your leg using the lowest intensity setting.
              If there are no signs of irritation or adverse reactions after 30 minutes,
              you can gradually increase the intensity and test on other areas of skin.
              If you experience any discomfort or reaction, discontinue use immediately and contact Customer <a
                href="#">Support.</a></div>
          </div>
          <div class="take-quiz-dispatch-item ulike-a10">
            <div class="take-quiz-dispatch-p1"><strong>Your test result:</strong> Great news! Your skin and hair tone
              are
              a perfect match for Ulike IPL. </div>
            <svg class="take-quiz-dispatch-jt" xmlns="http://www.w3.org/2000/svg" width="41" height="41"
              viewBox="0 0 41 41" fill="none">
              <path
                d="M20.5 40C31.2696 40 40 31.2696 40 20.5C40 9.73045 31.2696 1 20.5 1C9.73045 1 1 9.73045 1 20.5C1 31.2696 9.73045 40 20.5 40Z"
                stroke="#E0004D" />
              <path
                d="M19.763 24.6831L12 16.9191L13.132 15.7871L20.896 23.5511L28.66 15.7871L29.792 16.9191L22.028 24.6831L20.895 25.8151L19.763 24.6831Z"
                fill="#E0004D" />
            </svg>
            <div class="take-quiz-dispatch-p2">
              Recommendation: <strong>Ulike Air 10</strong>
            </div>
            <div class="take-quiz-dispatch-product">
              <div class="take-quiz-dispatch-product-img">
                <img src="./images61/a4.png" alt="" class="img">
                <div class="take-quiz-dispatch-product-tag">
                  <svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" viewBox="0 0 99 99" fill="none">
                    <path
                      d="M98.9991 49.4999L94.4851 52.5869L98.5411 56.2549L93.6511 58.6999L97.1721 62.8889L91.9941 64.6389L94.9091 69.2719L89.5411 70.2949L91.7961 75.2839L86.3381 75.5629L87.8951 80.8129L82.4501 80.3469L83.2831 85.7599L77.9511 84.5599L78.0451 90.0369L72.9251 88.1219L72.2751 93.5609L67.4641 90.9609L66.0781 96.2609L61.6671 93.0279L59.5671 98.0859L55.6401 94.2769L52.8721 98.9999L49.4951 94.6929L46.1181 98.9999L43.3501 94.2769L39.4221 98.0859L37.3221 93.0279L32.9111 96.2609L31.5251 90.9609L26.7131 93.5609L26.0631 88.1219L20.9431 90.0359L21.0371 84.5589L15.7051 85.7589L16.5411 80.3449L11.0961 80.8109L12.6531 75.5609L7.19514 75.2819L9.45014 70.2929L4.08114 69.2709L6.99614 64.6379L1.81814 62.8879L5.33914 58.6989L0.449142 56.2549L4.50814 52.5869L-0.00585938 49.4999L4.50814 46.4129L0.449142 42.7449L5.33914 40.2999L1.81814 36.1109L6.99614 34.3609L4.08614 29.7309L9.45514 28.7089L7.20014 23.7199L12.6581 23.4409L11.1011 18.1909L16.5461 18.6569L15.7131 13.2439L21.0451 14.4439L20.9511 8.96691L26.0711 10.8819L26.7211 5.44291L31.5321 8.04291L32.9181 2.7429L37.3291 5.97591L39.4291 0.917908L43.3561 4.72691L46.1241 0.00390625L49.5011 4.31091L52.8781 0.00390625L55.6461 4.72691L59.5741 0.917908L61.6741 5.97591L66.0851 2.7429L67.4711 8.04291L72.2831 5.44291L72.9331 10.8819L78.0531 8.96791L77.9591 14.4449L83.2911 13.2449L82.4571 18.6579L87.9021 18.1919L86.3451 23.4419L91.8031 23.7209L89.5411 28.7069L94.9111 29.7309L91.9961 34.3639L97.1741 36.1139L93.6531 40.3029L98.5431 42.7479L94.4841 46.4159L98.9991 49.4999Z"
                      fill="#E7004C" />
                    <path
                      d="M49.5 94.693L46.123 99L43.356 94.277L39.428 98.086L37.328 93.028L32.916 96.262L31.53 90.962L26.719 93.562L26.069 88.123L20.948 90.037L21.043 84.56L15.711 85.76L16.544 80.347L11.099 80.813L12.656 75.562L7.198 75.283L9.453 70.294L4.08499 69.272L7 64.639L1.82101 62.889L5.34299 58.7L0.451996 56.256L4.51199 52.589L0 49.5L4.51401 46.413L0.45401 42.745L5.345 40.301L1.823 36.111L7.00201 34.361L4.08801 29.728L9.45599 28.706L7.20099 23.716L12.66 23.438L11.103 18.187L16.548 18.653L15.715 13.239L21.047 14.439L20.953 8.96198L26.072 10.877L26.723 5.43799L31.534 8.03802L32.92 2.73798L37.331 5.97198L39.431 0.914001L43.358 4.72302L46.124 0L49.501 4.30701L52.878 0L55.646 4.72302L59.574 0.914978L61.674 5.97198L66.086 2.73901L67.472 8.039L72.283 5.43903L72.933 10.878L78.054 8.96399L77.959 14.441L83.291 13.241L82.458 18.654L87.903 18.188L86.346 23.439L91.804 23.717L89.549 28.707L94.917 29.728L92 34.362L97.179 36.112L93.657 40.301L98.548 42.746L94.489 46.413L99 49.5L94.486 52.588L98.545 56.255L93.654 58.7L97.176 62.889L92 64.64L94.914 69.273L89.546 70.295L91.801 75.284L86.343 75.563L87.9 80.814L82.455 80.348L83.288 85.762L77.956 84.562L78.05 90.039L72.931 88.125L72.28 93.564L67.469 90.964L66.084 96.264L61.673 93.031L59.573 98.088L55.646 94.279L52.878 99L49.5 94.693Z"
                      fill="url(#paint0_linear_309_2224)" />
                    <defs>
                      <linearGradient id="paint0_linear_309_2224" x1="30.195" y1="30.195" x2="68.805" y2="68.805"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#E0004D" />
                        <stop offset="0.507" stop-color="#FF6186" />
                        <stop offset="1" stop-color="#E0004D" />
                      </linearGradient>
                    </defs>
                  </svg>
                  <div class="take-quiz-dispatch-product-tag-txt">
                    <strong>$110</strong>OFF
                  </div>
                </div>
              </div>
              <div class="take-quiz-dispatch-product-info">
                <h3 class="take-quiz-dispatch-product-h3">Ulike Air 10</h3>
                <p class="take-quiz-dispatch-product-p">96% hair reduction in just 2 weeks</p>
                <div class="take-quiz-dispatch-product-star">
                  <span>4.7/5(1003)</span>
                </div>
                <div class="take-quiz-dispatch-product-btn">Add To Cart - 269.99</div>
              </div>
            </div>
            <div class="take-quiz-dispatch-p3">Why Air 10?</div>
            <div class="take-quiz-dispatch-p4">Our top-of-the-line IPL device is the perfect choice for those seeking
              powerful, effective results without the
              premium price tag. Start seeing results by week 2, and after a full treatment cycle, enjoy months of
              smooth
              skin. </div>
            <div class="take-quiz-dispatch-code">
              <div class="take-quiz-dispatch-p5">Shop Air 10 now and save.</div>
              <div class="take-quiz-dispatch-p6">Your exclusive discount code: <strong>UPOWER</strong></div>
            </div>
            <div class="take-quiz-dispatch-p3">Quick Tip:</div>
            <div class="take-quiz-dispatch-p7">
              Begin with a patch test on a small area of your leg using the lowest intensity setting.
              If there are no signs of irritation or adverse reactions after 30 minutes,
              you can gradually increase the intensity and test on other areas of skin.
              If you experience any discomfort or reaction, discontinue use immediately and contact Customer <a
                href="#">Support.</a></div>
          </div>
          <div class="take-quiz-dispatch-item ulike-x">
            <div class="take-quiz-dispatch-p1"><strong>Your test result:</strong> Great news! Your skin and hair tone
              are
              a perfect match for Ulike IPL. </div>
            <svg class="take-quiz-dispatch-jt" xmlns="http://www.w3.org/2000/svg" width="41" height="41"
              viewBox="0 0 41 41" fill="none">
              <path
                d="M20.5 40C31.2696 40 40 31.2696 40 20.5C40 9.73045 31.2696 1 20.5 1C9.73045 1 1 9.73045 1 20.5C1 31.2696 9.73045 40 20.5 40Z"
                stroke="#E0004D" />
              <path
                d="M19.763 24.6831L12 16.9191L13.132 15.7871L20.896 23.5511L28.66 15.7871L29.792 16.9191L22.028 24.6831L20.895 25.8151L19.763 24.6831Z"
                fill="#E0004D" />
            </svg>
            <div class="take-quiz-dispatch-p2">
              Recommendation: <strong>Ulike X</strong>
            </div>
            <div class="take-quiz-dispatch-product">
              <div class="take-quiz-dispatch-product-img">
                <img src="./images61/a4.png" alt="" class="img">
                <div class="take-quiz-dispatch-product-tag">
                  <svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" viewBox="0 0 99 99" fill="none">
                    <path
                      d="M98.9991 49.4999L94.4851 52.5869L98.5411 56.2549L93.6511 58.6999L97.1721 62.8889L91.9941 64.6389L94.9091 69.2719L89.5411 70.2949L91.7961 75.2839L86.3381 75.5629L87.8951 80.8129L82.4501 80.3469L83.2831 85.7599L77.9511 84.5599L78.0451 90.0369L72.9251 88.1219L72.2751 93.5609L67.4641 90.9609L66.0781 96.2609L61.6671 93.0279L59.5671 98.0859L55.6401 94.2769L52.8721 98.9999L49.4951 94.6929L46.1181 98.9999L43.3501 94.2769L39.4221 98.0859L37.3221 93.0279L32.9111 96.2609L31.5251 90.9609L26.7131 93.5609L26.0631 88.1219L20.9431 90.0359L21.0371 84.5589L15.7051 85.7589L16.5411 80.3449L11.0961 80.8109L12.6531 75.5609L7.19514 75.2819L9.45014 70.2929L4.08114 69.2709L6.99614 64.6379L1.81814 62.8879L5.33914 58.6989L0.449142 56.2549L4.50814 52.5869L-0.00585938 49.4999L4.50814 46.4129L0.449142 42.7449L5.33914 40.2999L1.81814 36.1109L6.99614 34.3609L4.08614 29.7309L9.45514 28.7089L7.20014 23.7199L12.6581 23.4409L11.1011 18.1909L16.5461 18.6569L15.7131 13.2439L21.0451 14.4439L20.9511 8.96691L26.0711 10.8819L26.7211 5.44291L31.5321 8.04291L32.9181 2.7429L37.3291 5.97591L39.4291 0.917908L43.3561 4.72691L46.1241 0.00390625L49.5011 4.31091L52.8781 0.00390625L55.6461 4.72691L59.5741 0.917908L61.6741 5.97591L66.0851 2.7429L67.4711 8.04291L72.2831 5.44291L72.9331 10.8819L78.0531 8.96791L77.9591 14.4449L83.2911 13.2449L82.4571 18.6579L87.9021 18.1919L86.3451 23.4419L91.8031 23.7209L89.5411 28.7069L94.9111 29.7309L91.9961 34.3639L97.1741 36.1139L93.6531 40.3029L98.5431 42.7479L94.4841 46.4159L98.9991 49.4999Z"
                      fill="#E7004C" />
                    <path
                      d="M49.5 94.693L46.123 99L43.356 94.277L39.428 98.086L37.328 93.028L32.916 96.262L31.53 90.962L26.719 93.562L26.069 88.123L20.948 90.037L21.043 84.56L15.711 85.76L16.544 80.347L11.099 80.813L12.656 75.562L7.198 75.283L9.453 70.294L4.08499 69.272L7 64.639L1.82101 62.889L5.34299 58.7L0.451996 56.256L4.51199 52.589L0 49.5L4.51401 46.413L0.45401 42.745L5.345 40.301L1.823 36.111L7.00201 34.361L4.08801 29.728L9.45599 28.706L7.20099 23.716L12.66 23.438L11.103 18.187L16.548 18.653L15.715 13.239L21.047 14.439L20.953 8.96198L26.072 10.877L26.723 5.43799L31.534 8.03802L32.92 2.73798L37.331 5.97198L39.431 0.914001L43.358 4.72302L46.124 0L49.501 4.30701L52.878 0L55.646 4.72302L59.574 0.914978L61.674 5.97198L66.086 2.73901L67.472 8.039L72.283 5.43903L72.933 10.878L78.054 8.96399L77.959 14.441L83.291 13.241L82.458 18.654L87.903 18.188L86.346 23.439L91.804 23.717L89.549 28.707L94.917 29.728L92 34.362L97.179 36.112L93.657 40.301L98.548 42.746L94.489 46.413L99 49.5L94.486 52.588L98.545 56.255L93.654 58.7L97.176 62.889L92 64.64L94.914 69.273L89.546 70.295L91.801 75.284L86.343 75.563L87.9 80.814L82.455 80.348L83.288 85.762L77.956 84.562L78.05 90.039L72.931 88.125L72.28 93.564L67.469 90.964L66.084 96.264L61.673 93.031L59.573 98.088L55.646 94.279L52.878 99L49.5 94.693Z"
                      fill="url(#paint0_linear_309_2224)" />
                    <defs>
                      <linearGradient id="paint0_linear_309_2224" x1="30.195" y1="30.195" x2="68.805" y2="68.805"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#E0004D" />
                        <stop offset="0.507" stop-color="#FF6186" />
                        <stop offset="1" stop-color="#E0004D" />
                      </linearGradient>
                    </defs>
                  </svg>
                  <div class="take-quiz-dispatch-product-tag-txt">
                    <strong>$110</strong>OFF
                  </div>
                </div>
              </div>
              <div class="take-quiz-dispatch-product-info">
                <h3 class="take-quiz-dispatch-product-h3">Ulike Air 10</h3>
                <p class="take-quiz-dispatch-product-p">96% hair reduction in just 2 weeks</p>
                <div class="take-quiz-dispatch-product-star">
                  <span>4.7/5(1003)</span>
                </div>
                <div class="take-quiz-dispatch-product-btn">Add To Cart - 269.99</div>
              </div>
            </div>
            <div class="take-quiz-dispatch-p3">Why Air 10?</div>
            <div class="take-quiz-dispatch-p4">Our top-of-the-line IPL device is the perfect choice for those seeking
              powerful, effective results without the
              premium price tag. Start seeing results by week 2, and after a full treatment cycle, enjoy months of
              smooth
              skin. </div>
            <div class="take-quiz-dispatch-code">
              <div class="take-quiz-dispatch-p5">Shop Air 10 now and save.</div>
              <div class="take-quiz-dispatch-p6">Your exclusive discount code: <strong>UPOWER</strong></div>
            </div>
            <div class="take-quiz-dispatch-p3">Quick Tip:</div>
            <div class="take-quiz-dispatch-p7">
              Begin with a patch test on a small area of your leg using the lowest intensity setting.
              If there are no signs of irritation or adverse reactions after 30 minutes,
              you can gradually increase the intensity and test on other areas of skin.
              If you experience any discomfort or reaction, discontinue use immediately and contact Customer <a
                href="#">Support.</a></div>
          </div>
          <div class="take-quiz-dispatch-item inapplicable">
            <div class="take-quiz-dispatch-p1">
              <strong>Your test result:</strong> Unfortunately, we do not recommend IPL for your hair type or skin tone.
            </div>
            <svg class="take-quiz-dispatch-jt" xmlns="http://www.w3.org/2000/svg" width="41" height="41"
              viewBox="0 0 41 41" fill="none">
              <path
                d="M20.5 40C31.2696 40 40 31.2696 40 20.5C40 9.73045 31.2696 1 20.5 1C9.73045 1 1 9.73045 1 20.5C1 31.2696 9.73045 40 20.5 40Z"
                stroke="#E0004D" />
              <path
                d="M19.763 24.6831L12 16.9191L13.132 15.7871L20.896 23.5511L28.66 15.7871L29.792 16.9191L22.028 24.6831L20.895 25.8151L19.763 24.6831Z"
                fill="#E0004D" />
            </svg>
            <div class="take-quiz-dispatch-p2">
              The Best Device for Your Skin & Hair Type
            </div>
            <div class="take-quiz-dispatch-p4">
              You may want to consider alternatives to IPL, including shaving, waxing,
              threading, sugaring, tweezing, or electrolysis. Professional IPL may still
              be an option; consult a licensed practitioner to find out.
            </div>
            <br />
            <hr />
            <div class="take-quiz-dispatch-p3">Why?</div>
            <div class="take-quiz-dispatch-p4">
              Based on your responses, your hair color likely contains very
              low levels of melanin (common in light blonde, red, or gray hair),
              or your skin tone contains high levels of melanin. IPL technology
              works by targeting the melanin in hair follicles to disrupt hair
              growth, so it may not be effective for your hair type. On darker
              skin tones, IPL can cause irritation or discoloration.
              <br />
              <br />
              We want to ensure you get the best results possible — and that means offering honest guidance, even
              when that means holding off on a recommendation.
            </div>
            <div style="text-align: center;">
              <div class="take-quiz-retry-btn">Try again</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // class QuizApp {
    //   constructor() {
    //     this.questions = Array.from(document.querySelectorAll('.take-quiz-item'));
    //     this.titles = Array.from(document.querySelectorAll('.take-quiz-item-title'));
    //     this.answers = {};
    //     this.current = 0;

    //     this.prevBtn = document.querySelector('.take-quiz-prev-btn');
    //     this.nextBtn = document.querySelector('.take-quiz-next-btn');
    //     this.resultBox = document.querySelector('.take-quiz-dispatch');
    //     this.recommendation = document.querySelector('.recommendation');
    //     this.currentNumEl = document.querySelector('.current-num');
    //     this.totalNumEl = document.querySelector('.total-num');

    //     this.prevBtn.addEventListener('click', () => this.prev());
    //     this.nextBtn.addEventListener('click', () => this.next());

    //     this.initOptionListeners();
    //     this.showQuestion();
    //   }

    //   initOptionListeners() {
    //     this.questions.forEach((question, qIndex) => {
    //       const options = question.querySelectorAll('.take-quiz-faq-item');
    //       options.forEach((option, oIndex) => {
    //         option.dataset.index = oIndex;

    //         option.addEventListener('click', () => {
    //           options.forEach(o => o.classList.remove('active'));
    //           option.classList.add('active');
    //           this.answers[`q${qIndex}`] = oIndex;

    //           if (qIndex === 1) this.showQuestion(); // 性别改变时更新跳题逻辑
    //         });
    //       });
    //     });
    //   }

    //   getEffectiveQuestions() {
    //     return this.questions.filter((q, i) => !(this.answers.q1 === 0 && i === 5));
    //   }

    //   getEffectiveTitles() {
    //     return this.titles.filter((t, i) => !(this.answers.q1 === 0 && i === 5));
    //   }

    //   showQuestion() {
    //     const visibleQuestions = this.getEffectiveQuestions();
    //     const visibleTitles = this.getEffectiveTitles();

    //     this.questions.forEach(q => q.classList.remove('active'));
    //     this.titles.forEach(t => t.classList.remove('active'));

    //     const visibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);

    //     if (visibleIndex !== -1) {
    //       this.questions[this.current].classList.add('active');
    //       this.titles[this.current].classList.add('active');
    //       this.currentNumEl.textContent = visibleIndex + 1;
    //     } else {
    //       this.current = this.questions.indexOf(visibleQuestions[visibleIndex + 1] || visibleQuestions[0]);
    //       this.showQuestion();
    //       return;
    //     }

    //     this.totalNumEl.textContent = visibleQuestions.length - 1;
    //     this.prevBtn.style.display = visibleIndex === 0 ? 'none' : 'flex';
    //     this.resultBox.style.display = 'none';
    //   }

    //   next() {
    //     const currentAnswer = this.answers[`q${this.current}`];
    //     if (currentAnswer === undefined) {
    //       alert('Please select an answer before continuing.');
    //       return;
    //     }

    //     const visibleQuestions = this.getEffectiveQuestions();
    //     const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);

    //     console.log(this.current, currentVisibleIndex, visibleQuestions);


    //     if (currentVisibleIndex + 1 >= visibleQuestions.length) {
    //       this.showResult();
    //     } else {
    //       this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex + 1]);
    //       this.showQuestion();
    //     }
    //   }

    //   prev() {
    //     const visibleQuestions = this.getEffectiveQuestions();
    //     const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);

    //     if (currentVisibleIndex > 0) {
    //       this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex - 1]);
    //       this.showQuestion();
    //     }
    //   }

    //   showResult() {
    //     this.questions.forEach(q => q.classList.remove('active'));
    //     this.titles.forEach(t => t.classList.remove('active'));
    //     this.prevBtn.style.display = 'none';
    //     this.nextBtn.style.display = 'none';
    //     this.resultBox.style.display = 'block';

    //     const a = this.answers;
    //     let recommendation = "Sorry, no suitable product was found.";
    //     if (a.q2 === 1 && a.q3 === 0 && a.q4 === 0) {
    //       recommendation = "Product A: Gentle Glow Serum";
    //     } else if (a.q3 === 2 && a.q4 === 1) {
    //       recommendation = "Product B: Balanced Care Moisturizer";
    //     } else if (a.q3 === 5 && a.q4 === 2) {
    //       recommendation = "Product C: Deep Nourishment Lotion";
    //     }

    //     this.recommendation.textContent = recommendation;
    //   }
    // }

    class QuizApp {
      constructor() {
        this.takeQuiz = document.querySelector('.take-quiz');
        this.questions = Array.from(this.takeQuiz.querySelectorAll('.take-quiz-item'));
        this.titles = Array.from(this.takeQuiz.querySelectorAll('.take-quiz-item-title'));
        this.answers = {};
        this.current = 0;
        this.ineligible = false;

        this.prevBtn = this.takeQuiz.querySelector('.take-quiz-prev-btn');
        this.nextBtn = this.takeQuiz.querySelector('.take-quiz-next-btn');
        this.submitBtn = this.takeQuiz.querySelector('.take-quiz-submit-btn');
        this.resultBox = document.querySelector('.take-quiz-dispatch');
        this.recommendation = document.querySelector('.recommendation');
        this.currentNumEl = this.takeQuiz.querySelector('.current-num');
        this.totalNumEl = this.takeQuiz.querySelector('.total-num');
        this.retryBtn = document.querySelector('.take-quiz-retry-btn');

        this.prevBtn.addEventListener('click', () => this.prev());
        this.nextBtn.addEventListener('click', () => this.next());
        this.submitBtn.addEventListener('click', () => this.showResult());
        this.retryBtn.addEventListener('click', () => this.resetQuiz());
        this.initOptionListeners();
        this.showQuestion();
      }

      initOptionListeners() {
        this.questions.forEach((question, qIndex) => {
          const options = question.querySelectorAll('.take-quiz-faq-item');
          options.forEach((option, oIndex) => {
            option.dataset.index = oIndex;
            option.addEventListener('click', () => {
              options.forEach(o => o.classList.remove('active'));
              option.classList.add('active');
              this.answers[`q${qIndex}`] = oIndex;
              if (qIndex === 1) this.showQuestion();
            });
          });
        });
      }

      getEffectiveQuestions() {
        const skipPregnancy = this.answers.q1 === 1;
        return this.questions.filter((q, i) => {
          const isPregnancy = i === 5;
          const isEmail = i === this.questions.length - 1;
          return !(skipPregnancy && isPregnancy) && !isEmail;
        });
      }

      getEffectiveTitles() {
        const skipPregnancy = this.answers.q1 === 0;
        return this.titles.filter((t, i) => !(skipPregnancy && i === 5));
      }

      showToast(message) {
        // 如果已存在，先移除旧的
        const oldToast = document.getElementById('custom-toast');
        if (oldToast) oldToast.remove();

        // 创建新 DOM 元素
        const toast = document.createElement('div');
        toast.id = 'custom-toast';
        toast.textContent = message;

        // 设置样式
        Object.assign(toast.style, {
          position: 'fixed',
          top: '15%',
          left: '50%',
          transform: 'translate(-50%, 0%)',
          backgroundColor: 'rgba(0, 0, 0, 0.85)',
          color: 'white',
          padding: '12px 24px',
          borderRadius: '6px',
          fontSize: '16px',
          zIndex: '9999',
          pointerEvents: 'none',
          transition: 'opacity 0.3s ease',
          opacity: '1',
        });

        // 添加到页面
        document.body.appendChild(toast);

        // 延迟 3 秒自动移除
        setTimeout(() => {
          toast.style.opacity = '0';
          setTimeout(() => toast.remove(), 300); // 等过渡完成后移除
        }, 3000);
      }


      showQuestion() {
        const visibleQuestions = this.getEffectiveQuestions();
        const visibleTitles = this.getEffectiveTitles();
        const emailIndex = this.questions.length - 1;
        const titleBoxList = this.titles;

        // 隐藏所有内容
        this.questions.forEach(q => q.classList.remove('active'));
        titleBoxList.forEach(t => t.classList.remove('active'));
        this.resultBox.style.display = 'none';

        const msgBox = document.querySelector('.take-quiz-msg');

        if (this.current === emailIndex) {
          // 显示邮箱页
          this.questions[this.current].classList.add('active');
          titleBoxList[this.current].classList.add('active');

          // 隐藏进度区域
          if (msgBox) msgBox.style.display = 'none';

          this.prevBtn.style.display = 'flex';
          this.nextBtn.style.display = 'none';
          this.submitBtn.style.display = 'flex';

          return;
        }

        // 普通题目
        const visibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);
        if (visibleIndex !== -1) {
          this.questions[this.current].classList.add('active');
          visibleTitles[visibleIndex].classList.add('active');

          this.currentNumEl.textContent = visibleIndex + 1;
          this.totalNumEl.textContent = visibleQuestions.length;

          this.prevBtn.style.display = visibleIndex === 0 ? 'none' : 'flex';
          this.nextBtn.style.display = 'flex';
          this.submitBtn.style.display = 'none';

          // 显示进度
          if (msgBox) msgBox.style.display = 'flex';
        }
      }


      next() {
        const currentAnswer = this.answers[`q${this.current}`];
        if (currentAnswer === undefined) {
          // alert('Please select an answer before continuing.');
          this.showToast('Please select an answer before continuing.');
          return;
        }

        // ✅ 判断跳转到不适用逻辑（例如 q0 == 0 表示未成年）
        if ((this.current === 2 && currentAnswer === 5) || (this.current === 3 && currentAnswer >= 4) || (this.current === 5 && currentAnswer === 0)) {
          this.ineligible = true;
          this.showIneligibleResult(); // 跳转到不适用页面
          return;
        }

        const visibleQuestions = this.getEffectiveQuestions();
        const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);

        if (currentVisibleIndex + 1 >= visibleQuestions.length) {
          this.current = this.questions.length - 1;
        } else {
          this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex + 1]);
        }

        this.showQuestion();
      }

      prev() {
        const visibleQuestions = this.getEffectiveQuestions();
        const currentIndex = this.current;

        // 清除当前题目的选中状态和答案
        const currentQuestion = this.questions[currentIndex];
        if (currentQuestion) {
          const options = currentQuestion.querySelectorAll('.take-quiz-faq-item');
          options.forEach(o => o.classList.remove('active'));
          delete this.answers[`q${currentIndex}`];
        }

        // 邮箱页 → 回到最后一个题
        if (this.current === this.questions.length - 1) {
          this.current = this.questions.indexOf(visibleQuestions[visibleQuestions.length - 1]);
        } else {
          const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);
          if (currentVisibleIndex > 0) {
            this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex - 1]);
          }
        }

        this.showQuestion();
      }

      resetQuiz() {
        // 清除所有选项 active
        this.questions.forEach(question => {
          question.querySelectorAll('.take-quiz-faq-item').forEach(opt => opt.classList.remove('active'));
        });

        // 清空答案
        this.answers = {};

        // 重置状态
        this.ineligible = false;
        this.current = 0;

        // 隐藏结果区域
        this.resultBox.style.display = 'none';

        // 恢复进度条、按钮
        document.querySelector('.take-quiz-msg').style.display = 'flex';
        this.prevBtn.style.display = 'none';
        this.nextBtn.style.display = 'flex';
        this.submitBtn.style.display = 'none';
        this.takeQuiz.style.display = 'block';

        // 显示第一题
        this.showQuestion();
      }

      showResult() {
        const email = document.querySelector('.take-quiz-email').value.trim();
        if (!email || !/^\S+@\S+\.\S+$/.test(email)) {
          this.showToast('Please enter a valid email address.');
          return;
        }


        const data = {
          "siteCode": "US",
          "since": "USER_SUBSCRIBE",
          "userEmail": email,
          email,
          "tags": ['take quiz']
        };

        fetch('https://api.ulike.com/user/userSubscribe', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('请求失败');
            }
            return response.json();
          })
          .then(result => {
            console.log('提交成功:', result);
            if (result.code == 0) {
              document.querySelector('.take-quiz-email').value = ''
              this.takeQuiz.style.display = 'none';
              this.questions[this.current].classList.remove('active');
              this.prevBtn.style.display = 'none';
              this.submitBtn.style.display = 'none';

              const a = this.answers;
              this.resultBox.querySelectorAll('.take-quiz-dispatch-item').forEach(item => item.classList.remove('active'))
              if (a.q6 === 0) {
                this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-a3').classList.add('active')
              } else if (a.q1 === 1 && a.q6 === 2) {
                this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-x').classList.add('active')
              }
              else if (a.q6 === 1 || a.q6 === 2) {
                this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-a10').classList.add('active')
              }
              this.resultBox.style.display = 'block';
            }
          })
          .catch(error => {
            this.showToast(error);
          });
      }

      showIneligibleResult() {
        this.questions.forEach(q => q.classList.remove('active'));
        this.titles.forEach(t => t.classList.remove('active'));
        document.querySelector('.take-quiz-msg').style.display = 'none';
        this.prevBtn.style.display = 'none';
        this.nextBtn.style.display = 'none';
        this.submitBtn.style.display = 'none';
        this.takeQuiz.style.display = 'none';

        this.resultBox.querySelectorAll('.take-quiz-dispatch-item').forEach(item => item.classList.remove('active'));
        this.resultBox.querySelector('.take-quiz-dispatch-item.inapplicable').classList.add('active')
        // 显示不适用的结果
        this.resultBox.style.display = 'block';
      }
    }

    new QuizApp();

  </script>


  <script>
    class QuizAppa {
      constructor() {
        this.takeQuiz = document.querySelector('.take-quiz');
        this.questions = Array.from(this.takeQuiz.querySelectorAll('.take-quiz-item'));
        this.titles = Array.from(this.takeQuiz.querySelectorAll('.take-quiz-item-title'));
        this.answers = {};
        this.current = 0;
        this.ineligible = false;
        this.timer = null

        this.prevBtn = this.takeQuiz.querySelector('.take-quiz-prev-btn');
        this.nextBtn = this.takeQuiz.querySelector('.take-quiz-next-btn');
        this.submitBtn = this.takeQuiz.querySelector('.take-quiz-submit-btn');
        this.resultBox = document.querySelector('.take-quiz-dispatch');
        this.recommendation = document.querySelector('.recommendation');
        this.currentNumEl = this.takeQuiz.querySelector('.current-num');
        this.totalNumEl = this.takeQuiz.querySelector('.total-num');
        this.retryBtn = document.querySelector('.take-quiz-retry-btn');

        this.prevBtn?.addEventListener('click', () => this.prev());
        this.nextBtn?.addEventListener('click', () => this.next());
        this.submitBtn?.addEventListener('click', () => this.showResult());
        this.retryBtn?.addEventListener('click', () => this.resetQuiz());
        this.initOptionListeners();
        this.showQuestion();
        this.takeQuiz.querySelector('.take-quiz-email').addEventListener('focus', () => {
          clearTimeout(this.timer)
        });
      }

      initOptionListeners() {
        this.questions.forEach((question, qIndex) => {
          const options = question.querySelectorAll('.take-quiz-faq-item');
          options.forEach((option, oIndex) => {
            option.dataset.index = oIndex;
            option.addEventListener('click', () => {
              options.forEach(o => o.classList.remove('active'));
              option.classList.add('active');
              this.answers[`q${qIndex}`] = oIndex;
              if (qIndex === 1) this.showQuestion();
            });
          });
        });
      }

      getEffectiveQuestions() {
        const skipPregnancy = this.answers.q1 === 1;
        return this.questions.filter((q, i) => {
          const isPregnancy = i === 5;
          const isEmail = i === this.questions.length - 1;
          return !(skipPregnancy && isPregnancy) && !isEmail;
        });
      }

      getEffectiveTitles() {
        const skipPregnancy = this.answers.q1 === 0;
        return this.titles.filter((t, i) => !(skipPregnancy && i === 5));
      }

      showToast(message) {
        // 如果已存在，先移除旧的
        const oldToast = document.getElementById('custom-toast');
        if (oldToast) oldToast.remove();

        // 创建新 DOM 元素
        const toast = document.createElement('div');
        toast.id = 'custom-toast';
        toast.textContent = message;

        // 设置样式
        Object.assign(toast.style, {
          position: 'fixed',
          top: '12%',
          left: '50%',
          transform: 'translate(-50%, 0%)',
          backgroundColor: '#e0004d',
          color: 'white',
          padding: '12px 24px',
          borderRadius: '6px',
          fontSize: '16px',
          zIndex: '9999',
          pointerEvents: 'none',
          transition: 'opacity 0.3s ease',
          opacity: '1',
        });

        // 添加到页面
        document.body.appendChild(toast);

        // 延迟 3 秒自动移除
        setTimeout(() => {
          toast.style.opacity = '0';
          setTimeout(() => toast.remove(), 300); // 等过渡完成后移除
        }, 3000);
      }

      showQuestion() {
        const visibleQuestions = this.getEffectiveQuestions();
        const visibleTitles = this.getEffectiveTitles();
        const emailIndex = this.questions.length - 1;
        const titleBoxList = this.titles;

        // 隐藏所有内容
        this.questions.forEach(q => q.classList.remove('active'));
        titleBoxList.forEach(t => t.classList.remove('active'));
        this.resultBox.style.display = 'none';

        const msgBox = document.querySelector('.take-quiz-msg');

        if (this.current === emailIndex) {
          // 显示邮箱页
          this.questions[this.current].classList.add('active');
          titleBoxList[this.current].classList.add('active');

          // 隐藏进度区域
          if (msgBox) msgBox.style.display = 'none';

          this.prevBtn.style.display = 'flex';
          this.nextBtn.style.display = 'none';
          this.submitBtn.style.display = 'flex';

          this.countDownResult()
          return;
        }

        // 普通题目
        const visibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);
        if (visibleIndex !== -1) {
          this.questions[this.current].classList.add('active');
          visibleTitles[visibleIndex].classList.add('active');

          this.currentNumEl.textContent = visibleIndex + 1;
          this.totalNumEl.textContent = visibleQuestions.length;

          this.prevBtn.style.display = visibleIndex === 0 ? 'none' : 'flex';
          this.nextBtn.style.display = 'flex';
          this.submitBtn.style.display = 'none';

          // 显示进度
          if (msgBox) msgBox.style.display = 'flex';
        }
      }


      next() {
        const currentAnswer = this.answers[`q${this.current}`];
        if (currentAnswer === undefined) {
          // this.showToast('{{ section.settings.text7 }}');
          return;
        }

        // ✅ 判断跳转到不适用逻辑（例如 q0 == 0 表示未成年）
        if ((this.current === 2 && currentAnswer === 5) || (this.current === 3 && currentAnswer >= 4) || (this.current === 5 && currentAnswer === 0)) {
          this.ineligible = true;
          this.showIneligibleResult(); // 跳转到不适用页面
          return;
        }

        const visibleQuestions = this.getEffectiveQuestions();
        const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);

        if (currentVisibleIndex + 1 >= visibleQuestions.length) {
          this.current = this.questions.length - 1;
        } else {
          this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex + 1]);
        }

        this.showQuestion();
      }

      prev() {
        const visibleQuestions = this.getEffectiveQuestions();
        const currentIndex = this.current;

        // 清除当前题目的选中状态和答案
        const currentQuestion = this.questions[currentIndex];
        if (currentQuestion) {
          const options = currentQuestion.querySelectorAll('.take-quiz-faq-item');
          options.forEach(o => o.classList.remove('active'));
          delete this.answers[`q${currentIndex}`];
        }

        // 邮箱页 → 回到最后一个题
        if (this.current === this.questions.length - 1) {
          this.current = this.questions.indexOf(visibleQuestions[visibleQuestions.length - 1]);
        } else {
          const currentVisibleIndex = visibleQuestions.findIndex(q => this.questions.indexOf(q) === this.current);
          if (currentVisibleIndex > 0) {
            this.current = this.questions.indexOf(visibleQuestions[currentVisibleIndex - 1]);
          }
        }

        this.showQuestion();
      }

      resetQuiz() {
        // 清除所有选项 active
        this.questions.forEach(question => {
          question.querySelectorAll('.take-quiz-faq-item').forEach(opt => opt.classList.remove('active'));
        });

        // 清空答案
        this.answers = {};

        // 重置状态
        this.ineligible = false;
        this.current = 0;

        // 隐藏结果区域
        this.resultBox.style.display = 'none';

        // 恢复进度条、按钮
        document.querySelector('.take-quiz-msg').style.display = 'flex';
        this.prevBtn.style.display = 'none';
        this.nextBtn.style.display = 'flex';
        this.submitBtn.style.display = 'none';
        this.takeQuiz.style.display = 'block';

        // 显示第一题
        this.showQuestion();
      }

      countDownResult() {
        this.timer = setTimeout(() => {
          this.getResult()
        }, 6 * 1000)
      }

      showResult() {
        const agree = document.querySelector('.take-quiz-checkbox').checked;
        const email = document.querySelector('.take-quiz-email').value.trim();
        if (!email || !/^\S+@\S+\.\S+$/.test(email)) {
          // this.showToast('{{ section.settings.text8 }}');
          return;
        }

        if (!agree) {
          // this.showToast('{{ section.settings.text9 }}');
          return;
        }

        btnShowLoading($('.take-quiz-submit-btn'))

        const data = {
          "siteCode": "US",
          "since": "USER_SUBSCRIBE",
          "userEmail": email,
          email,
          "tags": ['take quiz']
        };

        fetch('https://api.ulike.com/user/userSubscribe', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('请求失败');
            }
            return response.json();
          })
          .then(result => {
            btnShowLoading($('.take-quiz-submit-btn'), false)
            if (result.code == 0) {
              this.getResult()
            }
          })
          .catch(error => {
            this.showToast(error);
            btnShowLoading($('.take-quiz-submit-btn'), false)
          });
      }

      getResult() {
        document.querySelector('.take-quiz-email').value = ''
        this.takeQuiz.style.display = 'none';
        this.questions[this.current].classList.remove('active');
        this.prevBtn.style.display = 'none';
        this.submitBtn.style.display = 'none';

        const a = this.answers;
        this.resultBox.querySelectorAll('.take-quiz-dispatch-item').forEach(item => item.classList.remove('active'))
        if (a.q6 === 0) {
          this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-a3').classList.add('active')
        } else if (a.q1 === 1 && a.q6 === 2) {
          this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-x').classList.add('active')
        }
        else if (a.q6 === 1 || a.q6 === 2) {
          this.resultBox.querySelector('.take-quiz-dispatch-item.ulike-a10').classList.add('active')
        }
        this.resultBox.style.display = 'block';
      }

      showIneligibleResult() {
        this.questions.forEach(q => q.classList.remove('active'));
        this.titles.forEach(t => t.classList.remove('active'));
        document.querySelector('.take-quiz-msg').style.display = 'none';
        this.prevBtn.style.display = 'none';
        this.nextBtn.style.display = 'none';
        this.submitBtn.style.display = 'none';
        this.takeQuiz.style.display = 'none';

        this.resultBox.querySelector('.take-quiz-dispatch-item.inapplicable').classList.remove('is-carry')
        this.resultBox.querySelectorAll('.take-quiz-dispatch-item').forEach(item => item.classList.remove('active'));
        this.resultBox.querySelector('.take-quiz-dispatch-item.inapplicable').classList.add('active')
        if (this.current === 5) this.resultBox.querySelector('.take-quiz-dispatch-item.inapplicable').classList.add('is-carry')
        // 显示不适用的结果
        this.resultBox.style.display = 'block';
      }
    }

  </script>
</body>

</html>